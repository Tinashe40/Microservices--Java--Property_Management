2025-12-01 05:40:48 [main] INFO  c.p.p.PropertyServiceApplication - Starting PropertyServiceApplication using Java 21.0.9 with PID 110338 (/home/tina/Downloads/Microservices (Java) Property_Management/property-service/target/classes started by tina in /home/tina/Downloads/Microservices (Java) Property_Management/property-service)
2025-12-01 05:40:48 [main] INFO  c.p.p.PropertyServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-01 05:40:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-01 05:40:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 156 ms. Found 5 JPA repository interfaces.
2025-12-01 05:40:50 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=5372ec41-c999-3cf4-9d78-9f3d83c70c2e
2025-12-01 05:40:51 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-12-01 05:40:51 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'deferringLoadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.DeferringLoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-12-01 05:40:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-12-01 05:40:51 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-01 05:40:51 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-12-01 05:40:51 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-12-01 05:40:51 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3201 ms
2025-12-01 05:40:52 [main] INFO  o.s.c.o.FeignClientFactoryBean - For 'user-service' URL not provided. Will try picking an instance via load-balancing.
2025-12-01 05:40:52 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-01 05:40:53 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-12-01 05:40:53 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 05:40:53 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-01 05:40:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-01 05:40:53 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@43735ea0
2025-12-01 05:40:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-01 05:40:53 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 05:40:55 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-01 05:40:56 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-01 05:40:56 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-01 05:40:59 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name remoteUserDetailsServiceImpl
2025-12-01 05:41:00 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-01 05:41:00 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-01 05:41:00 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-01 05:41:00 [main] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-12-01 05:41:01 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2025-12-01 05:41:01 [main] INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2025-12-01 05:41:01 [main] INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2025-12-01 05:41:01 [main] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 05:41:01 [main] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2025-12-01 05:41:01 [main] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2025-12-01 05:41:01 [main] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2025-12-01 05:41:01 [main] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2025-12-01 05:41:01 [main] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2025-12-01 05:41:01 [main] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2025-12-01 05:41:01 [main] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2025-12-01 05:41:02 [main] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2025-12-01 05:41:02 [main] INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2025-12-01 05:41:02 [main] INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-12-01 05:41:02 [main] INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1764560462138 with initial instances count: 0
2025-12-01 05:41:02 [main] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application PROPERTY-SERVICE with eureka with status UP
2025-12-01 05:41:02 [main] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764560462153, current=UP, previous=STARTING]
2025-12-01 05:41:02 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_PROPERTY-SERVICE/tinashe:property-service:8082: registering service...
2025-12-01 05:41:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/api'
2025-12-01 05:41:02 [main] INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration - Updating port to 8082
2025-12-01 05:41:02 [main] INFO  c.p.p.PropertyServiceApplication - Started PropertyServiceApplication in 14.342 seconds (process running for 14.737)
2025-12-01 05:41:02 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_PROPERTY-SERVICE/tinashe:property-service:8082 - registration status: 204
2025-12-01 05:41:32 [DiscoveryClient-CacheRefreshExecutor-0] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2025-12-01 05:41:32 [DiscoveryClient-CacheRefreshExecutor-0] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2025-12-01 05:41:32 [DiscoveryClient-CacheRefreshExecutor-0] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2025-12-01 05:41:32 [DiscoveryClient-CacheRefreshExecutor-0] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2025-12-01 05:41:32 [DiscoveryClient-CacheRefreshExecutor-0] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2025-12-01 05:41:32 [DiscoveryClient-CacheRefreshExecutor-0] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: false
2025-12-01 05:41:32 [DiscoveryClient-CacheRefreshExecutor-0] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2025-12-01 05:41:32 [DiscoveryClient-CacheRefreshExecutor-0] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2025-12-01 05:46:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 05:48:49 [http-nio-8082-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-01 05:48:49 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-01 05:48:49 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-12-01 05:48:49 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/stats/system-wide
2025-12-01 05:48:50 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/stats/system-wide
2025-12-01 05:48:50 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 05:48:50 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 05:48:50 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 05:48:50 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 05:48:50 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getSystemWideStats() with arguments: []
2025-12-01 05:48:50 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        properties p1_0
2025-12-01 05:48:50 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        units u1_0
2025-12-01 05:48:50 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        u1_0.occupancy_status=?
2025-12-01 05:48:50 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        coalesce(sum(u1_0.monthly_rent), 0) 
    from
        units u1_0 
    where
        u1_0.occupancy_status='OCCUPIED'
2025-12-01 05:48:50 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        coalesce(sum(u1_0.monthly_rent), 0) 
    from
        units u1_0
2025-12-01 05:48:50 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getSystemWideStats() with result: SystemStatsDTO(totalProperties=4, totalUnits=7, occupiedUnits=4, overallOccupancyRate=57.14285714285714, totalActualIncome=8427.0, totalPotentialIncome=24372.0)
2025-12-01 05:51:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 05:56:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 05:57:42 [SpringApplicationShutdownHook] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application PROPERTY-SERVICE with eureka with status DOWN
2025-12-01 05:57:42 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764561462932, current=DOWN, previous=UP]
2025-12-01 05:57:42 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_PROPERTY-SERVICE/tinashe:property-service:8082: registering service...
2025-12-01 05:57:42 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.n.d.s.t.d.RedirectingEurekaHttpClient - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/} exception=I/O error on POST request for "http://localhost:8761/eureka/apps/PROPERTY-SERVICE": Socket closed stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/PROPERTY-SERVICE": Socket closed
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:915)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:895)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:672)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:91)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:820)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.SocketException: Socket closed
	at java.base/sun.nio.ch.NioSocketImpl.endRead(NioSocketImpl.java:243)
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:323)
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:1099)
	at org.apache.hc.core5.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:149)
	at org.apache.hc.core5.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:280)
	at org.apache.hc.core5.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:247)
	at org.apache.hc.core5.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:54)
	at org.apache.hc.core5.http.impl.io.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:304)
	at org.apache.hc.core5.http.impl.io.HttpRequestExecutor.execute(HttpRequestExecutor.java:175)
	at org.apache.hc.core5.http.impl.io.HttpRequestExecutor.execute(HttpRequestExecutor.java:218)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager$InternalConnectionEndpoint.execute(PoolingHttpClientConnectionManager.java:717)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.execute(InternalExecRuntime.java:216)
	at org.apache.hc.client5.http.impl.classic.MainClientExec.execute(MainClientExec.java:116)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:188)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:116)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:112)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$0(RestTemplateTransportClientFactory.java:143)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:889)
	... 21 more

2025-12-01 05:57:42 [DiscoveryClient-InstanceInfoReplicator-0] WARN  c.n.d.s.t.d.RetryableEurekaHttpClient - Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/PROPERTY-SERVICE": Socket closed
2025-12-01 05:57:42 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-01 05:57:42 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-01 05:57:42 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.n.d.s.t.d.RedirectingEurekaHttpClient - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=Connection pool shut down stacktrace=java.lang.IllegalStateException: Connection pool shut down
	at org.apache.hc.core5.util.Asserts.check(Asserts.java:38)
	at org.apache.hc.core5.pool.StrictConnPool.lease(StrictConnPool.java:176)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.lease(PoolingHttpClientConnectionManager.java:297)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.acquireEndpoint(InternalExecRuntime.java:103)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:125)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:116)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:112)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$0(RestTemplateTransportClientFactory.java:143)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:889)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:672)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:820)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-12-01 05:57:42 [DiscoveryClient-InstanceInfoReplicator-0] WARN  c.n.d.s.t.d.RetryableEurekaHttpClient - Request execution failed with message: Connection pool shut down
2025-12-01 05:57:42 [DiscoveryClient-InstanceInfoReplicator-0] WARN  c.netflix.discovery.DiscoveryClient - DiscoveryClient_PROPERTY-SERVICE/tinashe:property-service:8082 - registration failed Cannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:820)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 05:57:42 [DiscoveryClient-InstanceInfoReplicator-0] WARN  c.n.discovery.InstanceInfoReplicator - There was a problem with the instance info replicator
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:820)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 05:57:42 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-01 05:57:42 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2025-12-01 05:57:45 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2025-12-01 05:57:45 [SpringApplicationShutdownHook] INFO  c.n.d.s.t.d.RedirectingEurekaHttpClient - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=Connection pool shut down stacktrace=java.lang.IllegalStateException: Connection pool shut down
	at org.apache.hc.core5.util.Asserts.check(Asserts.java:38)
	at org.apache.hc.core5.pool.StrictConnPool.lease(StrictConnPool.java:176)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.lease(PoolingHttpClientConnectionManager.java:297)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.acquireEndpoint(InternalExecRuntime.java:103)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:125)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:116)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:112)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$0(RestTemplateTransportClientFactory.java:143)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:889)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:672)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:87)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:916)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:892)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:415)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:239)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:202)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:195)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:389)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:211)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1202)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1156)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1102)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-12-01 05:57:46 [SpringApplicationShutdownHook] WARN  c.n.d.s.t.d.RetryableEurekaHttpClient - Request execution failed with message: Connection pool shut down
2025-12-01 05:57:46 [SpringApplicationShutdownHook] ERROR c.netflix.discovery.DiscoveryClient - DiscoveryClient_PROPERTY-SERVICE/tinashe:property-service:8082 - de-registration failedCannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:916)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:892)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:415)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:239)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:202)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:195)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:389)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:211)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1202)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1156)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1102)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 05:57:46 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2025-12-01 05:57:53 [main] INFO  c.p.p.PropertyServiceApplication - Starting PropertyServiceApplication using Java 21.0.9 with PID 111357 (/home/tina/Downloads/Microservices (Java) Property_Management/property-service/target/classes started by tina in /home/tina/Downloads/Microservices (Java) Property_Management/property-service)
2025-12-01 05:57:53 [main] INFO  c.p.p.PropertyServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-01 05:57:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-01 05:57:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 118 ms. Found 5 JPA repository interfaces.
2025-12-01 05:57:54 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=5372ec41-c999-3cf4-9d78-9f3d83c70c2e
2025-12-01 05:57:54 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-12-01 05:57:54 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'deferringLoadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.DeferringLoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-12-01 05:57:55 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-12-01 05:57:55 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-01 05:57:55 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-12-01 05:57:55 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-01 05:57:55 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2231 ms
2025-12-01 05:57:55 [main] INFO  o.s.c.o.FeignClientFactoryBean - For 'user-service' URL not provided. Will try picking an instance via load-balancing.
2025-12-01 05:57:56 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-01 05:57:56 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-12-01 05:57:56 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 05:57:56 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-01 05:57:56 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-01 05:57:56 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@267a8777
2025-12-01 05:57:56 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-01 05:57:56 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 05:57:57 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-01 05:57:57 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-01 05:57:58 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-01 05:58:00 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name remoteUserDetailsServiceImpl
2025-12-01 05:58:00 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-01 05:58:00 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-01 05:58:00 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-01 05:58:01 [main] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-12-01 05:58:01 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2025-12-01 05:58:01 [main] INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2025-12-01 05:58:02 [main] INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2025-12-01 05:58:02 [main] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 05:58:02 [main] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2025-12-01 05:58:02 [main] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2025-12-01 05:58:02 [main] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2025-12-01 05:58:02 [main] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2025-12-01 05:58:02 [main] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2025-12-01 05:58:02 [main] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2025-12-01 05:58:02 [main] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2025-12-01 05:58:02 [main] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2025-12-01 05:58:02 [main] INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2025-12-01 05:58:02 [main] INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-12-01 05:58:02 [main] INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1764561482242 with initial instances count: 3
2025-12-01 05:58:02 [main] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application PROPERTY-SERVICE with eureka with status UP
2025-12-01 05:58:02 [main] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764561482262, current=UP, previous=STARTING]
2025-12-01 05:58:02 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_PROPERTY-SERVICE/tinashe:property-service:8082: registering service...
2025-12-01 05:58:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-12-01 05:58:02 [main] INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration - Updating port to 8082
2025-12-01 05:58:02 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_PROPERTY-SERVICE/tinashe:property-service:8082 - registration status: 204
2025-12-01 05:58:02 [main] INFO  c.p.p.PropertyServiceApplication - Started PropertyServiceApplication in 9.672 seconds (process running for 9.948)
2025-12-01 05:58:40 [http-nio-8082-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-01 05:58:40 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-01 05:58:40 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-12-01 05:58:40 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/floors?propertyId=1&page=0&size=9
2025-12-01 05:58:40 [http-nio-8082-exec-1] ERROR c.p.c.s.JwtAuthenticationFilter - Could not set user authentication in security context
feign.FeignException$NotFound: [404] during [GET] to [http://user-service/api/users/by-username?username=Tinashe40] [UserClient#getUserByUsername(String)]: [{"type":"about:blank","title":"Not Found","status":404,"detail":"No static resource api/users/by-username.","instance":"/api/users/by-username"}]
	at feign.FeignException.clientErrorStatus(FeignException.java:228)
	at feign.FeignException.errorStatus(FeignException.java:203)
	at feign.FeignException.errorStatus(FeignException.java:194)
	at feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:103)
	at feign.InvocationContext.decodeError(InvocationContext.java:126)
	at feign.InvocationContext.proceed(InvocationContext.java:72)
	at feign.ResponseHandler.handleResponse(ResponseHandler.java:63)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:114)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:70)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:99)
	at org.springframework.cloud.openfeign.FeignCachingInvocationHandlerFactory$1.proceed(FeignCachingInvocationHandlerFactory.java:66)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:416)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:401)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.cloud.openfeign.FeignCachingInvocationHandlerFactory.lambda$create$1(FeignCachingInvocationHandlerFactory.java:53)
	at jdk.proxy2/jdk.proxy2.$Proxy145.getUserByUsername(Unknown Source)
	at com.proveritus.propertyservice.client.RemoteUserDetailsServiceImpl.getUserByUsername(RemoteUserDetailsServiceImpl.java:16)
	at com.proveritus.cloudutility.security.RemoteUserDetailsService.loadUserByUsername(RemoteUserDetailsService.java:23)
	at com.proveritus.cloudutility.security.jwt.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:39)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 05:58:40 [http-nio-8082-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-01 05:58:40 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?propertyId=1&page=0&size=9
2025-12-01 05:58:40 [http-nio-8082-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-01 06:02:50 [SpringApplicationShutdownHook] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application PROPERTY-SERVICE with eureka with status DOWN
2025-12-01 06:02:50 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764561770099, current=DOWN, previous=UP]
2025-12-01 06:02:50 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_PROPERTY-SERVICE/tinashe:property-service:8082: registering service...
2025-12-01 06:02:50 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_PROPERTY-SERVICE/tinashe:property-service:8082 - registration status: 204
2025-12-01 06:02:50 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-01 06:02:50 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-01 06:02:50 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-01 06:02:50 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2025-12-01 06:02:53 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2025-12-01 06:02:53 [SpringApplicationShutdownHook] INFO  c.n.d.s.t.d.RedirectingEurekaHttpClient - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/} exception=Connection pool shut down stacktrace=java.lang.IllegalStateException: Connection pool shut down
	at org.apache.hc.core5.util.Asserts.check(Asserts.java:38)
	at org.apache.hc.core5.pool.StrictConnPool.lease(StrictConnPool.java:176)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.lease(PoolingHttpClientConnectionManager.java:297)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.acquireEndpoint(InternalExecRuntime.java:103)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:125)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:116)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:112)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$0(RestTemplateTransportClientFactory.java:143)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:889)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:672)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:87)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:91)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:916)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:892)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:415)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:239)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:202)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:195)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:389)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:211)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1202)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1156)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1102)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-12-01 06:02:53 [SpringApplicationShutdownHook] WARN  c.n.d.s.t.d.RetryableEurekaHttpClient - Request execution failed with message: Connection pool shut down
2025-12-01 06:02:53 [SpringApplicationShutdownHook] INFO  c.n.d.s.t.d.RedirectingEurekaHttpClient - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=Connection pool shut down stacktrace=java.lang.IllegalStateException: Connection pool shut down
	at org.apache.hc.core5.util.Asserts.check(Asserts.java:38)
	at org.apache.hc.core5.pool.StrictConnPool.lease(StrictConnPool.java:176)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.lease(PoolingHttpClientConnectionManager.java:297)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.acquireEndpoint(InternalExecRuntime.java:103)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:125)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:116)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:112)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$0(RestTemplateTransportClientFactory.java:143)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:889)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:672)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:87)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:916)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:892)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:415)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:239)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:202)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:195)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:389)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:211)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1202)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1156)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1102)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-12-01 06:02:53 [SpringApplicationShutdownHook] WARN  c.n.d.s.t.d.RetryableEurekaHttpClient - Request execution failed with message: Connection pool shut down
2025-12-01 06:02:53 [SpringApplicationShutdownHook] ERROR c.netflix.discovery.DiscoveryClient - DiscoveryClient_PROPERTY-SERVICE/tinashe:property-service:8082 - de-registration failedCannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:916)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:892)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:415)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:239)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:202)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:195)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:389)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:211)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1202)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1156)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1102)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 06:02:53 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2025-12-01 06:03:27 [main] INFO  c.p.p.PropertyServiceApplication - Starting PropertyServiceApplication using Java 21.0.9 with PID 111996 (/home/tina/Downloads/Microservices (Java) Property_Management/property-service/target/classes started by tina in /home/tina/Downloads/Microservices (Java) Property_Management/property-service)
2025-12-01 06:03:27 [main] INFO  c.p.p.PropertyServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-01 06:03:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-01 06:03:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 121 ms. Found 5 JPA repository interfaces.
2025-12-01 06:03:29 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=5372ec41-c999-3cf4-9d78-9f3d83c70c2e
2025-12-01 06:03:29 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-12-01 06:03:29 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'deferringLoadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.DeferringLoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-12-01 06:03:30 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-12-01 06:03:30 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-01 06:03:30 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-12-01 06:03:30 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-01 06:03:30 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2177 ms
2025-12-01 06:03:30 [main] INFO  o.s.c.o.FeignClientFactoryBean - For 'user-service' URL not provided. Will try picking an instance via load-balancing.
2025-12-01 06:03:31 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-01 06:03:31 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-12-01 06:03:31 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 06:03:31 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-01 06:03:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-01 06:03:31 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@255b84a9
2025-12-01 06:03:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-01 06:03:31 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 06:03:32 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-01 06:03:32 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-01 06:03:33 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-01 06:03:34 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name remoteUserDetailsServiceImpl
2025-12-01 06:03:35 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-01 06:03:35 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-01 06:03:35 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-01 06:03:35 [main] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-12-01 06:03:36 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2025-12-01 06:03:36 [main] INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2025-12-01 06:03:36 [main] INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2025-12-01 06:03:36 [main] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 06:03:36 [main] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2025-12-01 06:03:36 [main] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2025-12-01 06:03:36 [main] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2025-12-01 06:03:36 [main] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2025-12-01 06:03:36 [main] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2025-12-01 06:03:36 [main] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2025-12-01 06:03:36 [main] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2025-12-01 06:03:36 [main] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2025-12-01 06:03:36 [main] INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2025-12-01 06:03:36 [main] INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-12-01 06:03:36 [main] INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1764561816982 with initial instances count: 3
2025-12-01 06:03:36 [main] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application PROPERTY-SERVICE with eureka with status UP
2025-12-01 06:03:36 [main] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764561816997, current=UP, previous=STARTING]
2025-12-01 06:03:36 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_PROPERTY-SERVICE/tinashe:property-service:8082: registering service...
2025-12-01 06:03:37 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-12-01 06:03:37 [main] INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration - Updating port to 8082
2025-12-01 06:03:37 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_PROPERTY-SERVICE/tinashe:property-service:8082 - registration status: 204
2025-12-01 06:03:37 [main] INFO  c.p.p.PropertyServiceApplication - Started PropertyServiceApplication in 9.753 seconds (process running for 10.166)
2025-12-01 06:08:36 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 06:09:44 [http-nio-8082-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-01 06:09:44 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-01 06:09:44 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-12-01 06:09:44 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/stats/system-wide
2025-12-01 06:09:44 [http-nio-8082-exec-1] ERROR c.p.c.s.JwtAuthenticationFilter - Could not set user authentication in security context
feign.FeignException$NotFound: [404] during [GET] to [http://user-service/api/users/by-username?username=Tinashe40] [UserClient#getUserByUsername(String)]: [{"type":"about:blank","title":"Not Found","status":404,"detail":"No static resource api/users/by-username.","instance":"/api/users/by-username"}]
	at feign.FeignException.clientErrorStatus(FeignException.java:228)
	at feign.FeignException.errorStatus(FeignException.java:203)
	at feign.FeignException.errorStatus(FeignException.java:194)
	at feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:103)
	at feign.InvocationContext.decodeError(InvocationContext.java:126)
	at feign.InvocationContext.proceed(InvocationContext.java:72)
	at feign.ResponseHandler.handleResponse(ResponseHandler.java:63)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:114)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:70)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:99)
	at org.springframework.cloud.openfeign.FeignCachingInvocationHandlerFactory$1.proceed(FeignCachingInvocationHandlerFactory.java:66)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:416)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:401)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.cloud.openfeign.FeignCachingInvocationHandlerFactory.lambda$create$1(FeignCachingInvocationHandlerFactory.java:53)
	at jdk.proxy2/jdk.proxy2.$Proxy145.getUserByUsername(Unknown Source)
	at com.proveritus.propertyservice.client.RemoteUserDetailsServiceImpl.getUserByUsername(RemoteUserDetailsServiceImpl.java:16)
	at com.proveritus.cloudutility.security.RemoteUserDetailsService.loadUserByUsername(RemoteUserDetailsService.java:23)
	at com.proveritus.cloudutility.security.jwt.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:39)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 06:09:44 [http-nio-8082-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-01 06:09:44 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-01 06:09:44 [http-nio-8082-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-01 06:11:45 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/stats/system-wide
2025-12-01 06:11:45 [http-nio-8082-exec-3] ERROR c.p.c.s.JwtAuthenticationFilter - Could not set user authentication in security context
feign.FeignException$NotFound: [404] during [GET] to [http://user-service/api/users/by-username?username=Tinashe40] [UserClient#getUserByUsername(String)]: [{"type":"about:blank","title":"Not Found","status":404,"detail":"No static resource api/users/by-username.","instance":"/api/users/by-username"}]
	at feign.FeignException.clientErrorStatus(FeignException.java:228)
	at feign.FeignException.errorStatus(FeignException.java:203)
	at feign.FeignException.errorStatus(FeignException.java:194)
	at feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:103)
	at feign.InvocationContext.decodeError(InvocationContext.java:126)
	at feign.InvocationContext.proceed(InvocationContext.java:72)
	at feign.ResponseHandler.handleResponse(ResponseHandler.java:63)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:114)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:70)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:99)
	at org.springframework.cloud.openfeign.FeignCachingInvocationHandlerFactory$1.proceed(FeignCachingInvocationHandlerFactory.java:66)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:416)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:401)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.cloud.openfeign.FeignCachingInvocationHandlerFactory.lambda$create$1(FeignCachingInvocationHandlerFactory.java:53)
	at jdk.proxy2/jdk.proxy2.$Proxy145.getUserByUsername(Unknown Source)
	at com.proveritus.propertyservice.client.RemoteUserDetailsServiceImpl.getUserByUsername(RemoteUserDetailsServiceImpl.java:16)
	at com.proveritus.cloudutility.security.RemoteUserDetailsService.loadUserByUsername(RemoteUserDetailsService.java:23)
	at com.proveritus.cloudutility.security.jwt.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:39)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 06:11:45 [http-nio-8082-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-01 06:11:45 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-12-01 06:11:45 [http-nio-8082-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-01 06:13:36 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 06:15:40 [SpringApplicationShutdownHook] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application PROPERTY-SERVICE with eureka with status DOWN
2025-12-01 06:15:40 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764562540953, current=DOWN, previous=UP]
2025-12-01 06:15:40 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_PROPERTY-SERVICE/tinashe:property-service:8082: registering service...
2025-12-01 06:15:40 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_PROPERTY-SERVICE/tinashe:property-service:8082 - registration status: 204
2025-12-01 06:15:40 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-01 06:15:40 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-01 06:15:40 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-01 06:15:40 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2025-12-01 06:15:44 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2025-12-01 06:15:44 [SpringApplicationShutdownHook] INFO  c.n.d.s.t.d.RedirectingEurekaHttpClient - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/} exception=Connection pool shut down stacktrace=java.lang.IllegalStateException: Connection pool shut down
	at org.apache.hc.core5.util.Asserts.check(Asserts.java:38)
	at org.apache.hc.core5.pool.StrictConnPool.lease(StrictConnPool.java:176)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.lease(PoolingHttpClientConnectionManager.java:297)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.acquireEndpoint(InternalExecRuntime.java:103)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:125)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:116)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:112)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$0(RestTemplateTransportClientFactory.java:143)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:889)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:672)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:87)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:91)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:916)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:892)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:415)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:239)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:202)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:195)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:389)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:211)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1202)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1156)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1102)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-12-01 06:15:44 [SpringApplicationShutdownHook] WARN  c.n.d.s.t.d.RetryableEurekaHttpClient - Request execution failed with message: Connection pool shut down
2025-12-01 06:15:44 [SpringApplicationShutdownHook] INFO  c.n.d.s.t.d.RedirectingEurekaHttpClient - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=Connection pool shut down stacktrace=java.lang.IllegalStateException: Connection pool shut down
	at org.apache.hc.core5.util.Asserts.check(Asserts.java:38)
	at org.apache.hc.core5.pool.StrictConnPool.lease(StrictConnPool.java:176)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.lease(PoolingHttpClientConnectionManager.java:297)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.acquireEndpoint(InternalExecRuntime.java:103)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:125)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:116)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:112)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$0(RestTemplateTransportClientFactory.java:143)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:889)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:672)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:87)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:916)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:892)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:415)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:239)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:202)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:195)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:389)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:211)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1202)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1156)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1102)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-12-01 06:15:44 [SpringApplicationShutdownHook] WARN  c.n.d.s.t.d.RetryableEurekaHttpClient - Request execution failed with message: Connection pool shut down
2025-12-01 06:15:44 [SpringApplicationShutdownHook] ERROR c.netflix.discovery.DiscoveryClient - DiscoveryClient_PROPERTY-SERVICE/tinashe:property-service:8082 - de-registration failedCannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:916)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:892)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:415)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:239)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:202)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:195)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:389)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:211)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1202)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1156)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1102)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 06:15:44 [SpringApplicationShutdownHook] INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2025-12-01 06:15:54 [main] INFO  c.p.p.PropertyServiceApplication - Starting PropertyServiceApplication using Java 21.0.9 with PID 113206 (/home/tina/Downloads/Microservices (Java) Property_Management/property-service/target/classes started by tina in /home/tina/Downloads/Microservices (Java) Property_Management/property-service)
2025-12-01 06:15:54 [main] INFO  c.p.p.PropertyServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-01 06:15:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-01 06:15:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 120 ms. Found 5 JPA repository interfaces.
2025-12-01 06:15:55 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=5372ec41-c999-3cf4-9d78-9f3d83c70c2e
2025-12-01 06:15:56 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-12-01 06:15:56 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'deferringLoadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.DeferringLoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-12-01 06:15:56 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-12-01 06:15:56 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-01 06:15:56 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-12-01 06:15:56 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-01 06:15:56 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2108 ms
2025-12-01 06:15:56 [main] INFO  o.s.c.o.FeignClientFactoryBean - For 'user-service' URL not provided. Will try picking an instance via load-balancing.
2025-12-01 06:15:57 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-01 06:15:57 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-12-01 06:15:57 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 06:15:57 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-01 06:15:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-01 06:15:57 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@26619e5
2025-12-01 06:15:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-01 06:15:57 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 06:15:58 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-01 06:15:58 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-01 06:15:59 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-01 06:16:01 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name remoteUserDetailsServiceImpl
2025-12-01 06:16:01 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-01 06:16:01 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-01 06:16:01 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-01 06:16:02 [main] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-12-01 06:16:02 [main] INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2025-12-01 06:16:03 [main] INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2025-12-01 06:16:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2025-12-01 06:16:03 [main] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 06:16:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2025-12-01 06:16:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2025-12-01 06:16:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2025-12-01 06:16:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2025-12-01 06:16:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2025-12-01 06:16:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2025-12-01 06:16:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2025-12-01 06:16:03 [main] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2025-12-01 06:16:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2025-12-01 06:16:03 [main] INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-12-01 06:16:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1764562563364 with initial instances count: 3
2025-12-01 06:16:03 [main] INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application PROPERTY-SERVICE with eureka with status UP
2025-12-01 06:16:03 [main] INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764562563379, current=UP, previous=STARTING]
2025-12-01 06:16:03 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_PROPERTY-SERVICE/tinashe:property-service:8082: registering service...
2025-12-01 06:16:03 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-12-01 06:16:03 [main] INFO  o.s.c.n.e.s.EurekaAutoServiceRegistration - Updating port to 8082
2025-12-01 06:16:03 [DiscoveryClient-InstanceInfoReplicator-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_PROPERTY-SERVICE/tinashe:property-service:8082 - registration status: 204
2025-12-01 06:16:03 [main] INFO  c.p.p.PropertyServiceApplication - Started PropertyServiceApplication in 9.651 seconds (process running for 9.938)
2025-12-01 06:16:49 [http-nio-8082-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-01 06:16:49 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-01 06:16:49 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-12-01 06:16:49 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/stats/system-wide
2025-12-01 06:16:50 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/stats/system-wide
2025-12-01 06:16:50 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 06:16:50 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 06:16:50 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 06:16:50 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 06:16:50 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getSystemWideStats() with arguments: []
2025-12-01 06:16:50 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        properties p1_0
2025-12-01 06:16:50 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        units u1_0
2025-12-01 06:16:50 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        u1_0.occupancy_status=?
2025-12-01 06:16:50 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        coalesce(sum(u1_0.monthly_rent), 0) 
    from
        units u1_0 
    where
        u1_0.occupancy_status='OCCUPIED'
2025-12-01 06:16:50 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        coalesce(sum(u1_0.monthly_rent), 0) 
    from
        units u1_0
2025-12-01 06:16:50 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getSystemWideStats() with result: SystemStatsDTO(totalProperties=4, totalUnits=7, occupiedUnits=4, overallOccupancyRate=57.14285714285714, totalActualIncome=8427.0, totalPotentialIncome=24372.0)
2025-12-01 06:17:11 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=9
2025-12-01 06:17:11 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/by-manager/1?page=0&size=9
2025-12-01 06:17:11 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/count
2025-12-01 06:17:11 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /properties/search?page=0&size=9
2025-12-01 06:17:11 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=9
2025-12-01 06:17:11 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/count
2025-12-01 06:17:11 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesCount(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 06:17:11 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesCount(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 06:17:11 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public long com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getTotalPropertiesCount(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 06:17:11 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/by-manager/1?page=0&size=9
2025-12-01 06:17:11 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public long com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getTotalPropertiesCount(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 06:17:11 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /properties/search?page=0&size=9
2025-12-01 06:17:11 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getTotalPropertiesCount() with arguments: []
2025-12-01 06:17:11 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        properties p1_0
2025-12-01 06:17:11 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getTotalPropertiesCount() with result: 4
2025-12-01 06:17:11 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 06:17:11 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesByManager(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 06:17:11 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 06:17:11 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.searchPropertiesByFilter(com.proveritus.propertyservice.property.dto.PropertyFilterDTO,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 06:17:11 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.searchPropertiesByFilter(com.proveritus.propertyservice.property.dto.PropertyFilterDTO,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 06:17:11 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesByManager(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 06:17:11 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.searchProperties(..) with arguments: [com.proveritus.propertyservice.property.dto.PropertyFilterDTO@4fd869fd, Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 06:17:11 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getPropertiesByManager(..) with arguments: [1, Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 06:17:11 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 06:17:11 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        1=1 
    limit
        ?, ?
2025-12-01 06:17:11 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.managed_by=? 
    limit
        ?
2025-12-01 06:17:11 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 06:17:11 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getPropertiesByManager(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 06:17:11 [http-nio-8082-exec-2] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-12-01 06:17:11 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.searchProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 06:17:11 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 06:17:14 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units/property/2/count
2025-12-01 06:17:14 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/2/stats
2025-12-01 06:17:14 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units/property/2/income
2025-12-01 06:17:14 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/2
2025-12-01 06:17:14 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units/property/2/income
2025-12-01 06:17:14 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/2/stats
2025-12-01 06:17:14 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.calculateRentalIncome(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 06:17:14 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units/property/2/count
2025-12-01 06:17:14 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.calculateRentalIncome(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 06:17:14 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 06:17:14 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 06:17:14 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.calculatePotentialRentalIncome(..) with arguments: [2]
2025-12-01 06:17:14 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.countUnitsByProperty(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 06:17:14 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.countUnitsByProperty(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 06:17:14 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/2
2025-12-01 06:17:14 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getPropertyStats(..) with arguments: [2]
2025-12-01 06:17:14 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.countUnitsByPropertyId(..) with arguments: [2]
2025-12-01 06:17:14 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyById(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 06:17:14 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyById(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 06:17:14 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getPropertyById(..) with arguments: [2]
2025-12-01 06:17:14 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 06:17:14 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 06:17:14 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 06:17:14 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        u1_0.property_id=?
2025-12-01 06:17:14 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        coalesce(sum(u1_0.monthly_rent), 0) 
    from
        units u1_0 
    where
        u1_0.property_id=? 
        and u1_0.occupancy_status='OCCUPIED'
2025-12-01 06:17:14 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.countUnitsByPropertyId(..) with result: 2
2025-12-01 06:17:14 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.calculatePotentialRentalIncome(..) with result: 522.0
2025-12-01 06:17:14 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        (select
            count(f1_0.id) 
        from
            floors f1_0 
        where
            f1_0.property_id=p1_0.id),
        (select
            count(u2_0.id) 
        from
            units u2_0 
        where
            u2_0.property_id=p1_0.id),
        coalesce(sum(case 
            when u1_0.occupancy_status='OCCUPIED' 
                then 1 
            else 0 
    end), 0),
    coalesce(sum(case 
        when u1_0.occupancy_status='AVAILABLE' 
            then 1 
        else 0 
end), 0),
coalesce(sum(case 
    when u1_0.occupancy_status='RESERVED' 
        then 1 
    else 0 
end), 0),
coalesce(sum(case 
    when u1_0.occupancy_status='NOT_AVAILABLE' 
        then 1 
    else 0 
end), 0),
coalesce(sum(case 
    when u1_0.occupancy_status='UNDER_MAINTENANCE' 
        then 1 
    else 0 
end), 0),
case 
    when (select
        count(u3_0.id) from
            units u3_0 
        where
            u3_0.property_id=p1_0.id)>0 
            then ((coalesce(sum(case 
                when u1_0.occupancy_status='OCCUPIED' 
                    then 1 
                else 0 
        end), 0)*100.0)/(select
            count(u4_0.id) 
        from
            units u4_0 
        where
            u4_0.property_id=p1_0.id)) 
    else 0.0 
end,
case 
    when (select
        count(u5_0.id) from
            units u5_0 
        where
            u5_0.property_id=p1_0.id)>0 
            then ((coalesce(sum(case 
                when u1_0.occupancy_status='AVAILABLE' 
                    then 1 
                else 0 
        end), 0)*100.0)/(select
            count(u6_0.id) 
        from
            units u6_0 
        where
            u6_0.property_id=p1_0.id)) 
    else 0.0 
end,
coalesce(sum(case 
    when u1_0.occupancy_status='OCCUPIED' 
        then u1_0.monthly_rent 
    else 0 
end), 0.0),
coalesce(sum(u1_0.monthly_rent), 0.0) 
from
    properties p1_0 
left join
    units u1_0 
        on u1_0.property_id=p1_0.id 
where
    p1_0.id=? 
group by
    p1_0.id
2025-12-01 06:17:14 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getPropertyStats(..) with result: PropertyStatsDTO(totalFloors=1, totalUnits=2, occupiedUnits=1, vacantUnits=1, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=50.0, vacancyRate=50.0, totalRentalIncome=522.0, potentialRentalIncome=14967.0)
2025-12-01 06:17:14 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getPropertyById(..) with result: com.proveritus.propertyservice.property.dto.PropertyDTO@569b5afe
2025-12-01 06:17:14 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=2&page=0&size=6
2025-12-01 06:17:14 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=2&page=0&size=6
2025-12-01 06:17:14 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 06:17:14 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 06:17:14 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [2, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 06:17:14 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 06:17:14 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 06:17:14 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 06:17:14 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 06:17:14 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 06:17:14 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 06:17:14 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/6/occupancy-stats
2025-12-01 06:17:14 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/6/occupancy-stats
2025-12-01 06:17:14 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 06:17:14 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 06:17:14 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [6]
2025-12-01 06:17:14 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 06:17:14 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 06:17:14 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=2, occupiedUnits=1, vacantUnits=1, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=50.0, vacancyRate=50.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 06:17:28 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /floors/6
2025-12-01 06:17:28 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /floors/6
2025-12-01 06:17:28 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.updateFloor(java.lang.Long,com.proveritus.propertyservice.floor.dto.FloorDTO); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 06:17:28 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.updateFloor(java.lang.Long,com.proveritus.propertyservice.floor.dto.FloorDTO); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 06:17:28 [http-nio-8082-exec-4] INFO  c.p.p.floor.api.FloorRestController - Updating floor with ID: 6
2025-12-01 06:17:28 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.updateFloor(..) with arguments: [6, com.proveritus.propertyservice.floor.dto.FloorDTO@148a69f2]
2025-12-01 06:17:28 [http-nio-8082-exec-4] INFO  c.p.p.f.s.Impl.FloorServiceImpl - Updating floor with ID: 6
2025-12-01 06:17:28 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 06:17:28 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 06:17:28 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 06:17:28 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 06:17:28 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.name=? 
        and f1_0.property_id=?
2025-12-01 06:17:28 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 06:17:28 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.updateFloor(..) with result: com.proveritus.propertyservice.floor.dto.FloorDTO@17458a43
2025-12-01 06:17:28 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    update
        floors 
    set
        deleted=?,
        last_modified_by=?,
        last_modified_date=?,
        name=?,
        number_of_units=?,
        occupied_units=?,
        property_id=?,
        vacant_units=?,
        version=? 
    where
        id=? 
        and version=?
2025-12-01 06:17:28 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=2&page=0&size=6
2025-12-01 06:17:28 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/2/stats
2025-12-01 06:17:28 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/2/stats
2025-12-01 06:17:28 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=2&page=0&size=6
2025-12-01 06:17:28 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 06:17:28 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 06:17:28 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 06:17:28 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 06:17:28 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [2, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 06:17:28 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 06:17:28 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 06:17:28 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 06:17:28 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 06:17:28 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 06:17:28 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 06:17:31 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=2&size=0
2025-12-01 06:17:31 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=2&size=0
2025-12-01 06:17:31 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 06:17:31 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 06:17:31 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [2]
2025-12-01 06:17:31 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 06:17:31 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 06:17:31 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 06:17:31 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=?
2025-12-01 06:17:31 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 06:17:31 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: [com.proveritus.propertyservice.floor.dto.FloorDTO@7b51ab8f]
2025-12-01 06:17:31 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?floorId=6&page=0&size=6
2025-12-01 06:17:31 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?floorId=6&page=0&size=6
2025-12-01 06:17:31 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 06:17:31 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 06:17:31 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, 6, null, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 06:17:31 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 06:17:31 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 06:17:31 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 06:17:31 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 06:17:48 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /units/4
2025-12-01 06:17:48 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /units/4
2025-12-01 06:21:03 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 06:26:03 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 06:31:03 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 06:36:03 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 06:41:03 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 06:46:03 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 06:51:03 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 06:56:03 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 07:01:03 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 07:06:03 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 07:11:03 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 07:16:03 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 08:28:00 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 08:33:00 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 08:38:00 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 08:43:00 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 08:43:40 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/stats/system-wide
2025-12-01 08:43:40 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/stats/system-wide
2025-12-01 08:43:40 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 08:43:40 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 08:43:40 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 08:43:40 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 08:43:40 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getSystemWideStats() with arguments: []
2025-12-01 08:43:40 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        properties p1_0
2025-12-01 08:43:40 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        units u1_0
2025-12-01 08:43:40 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        u1_0.occupancy_status=?
2025-12-01 08:43:40 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        coalesce(sum(u1_0.monthly_rent), 0) 
    from
        units u1_0 
    where
        u1_0.occupancy_status='OCCUPIED'
2025-12-01 08:43:40 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        coalesce(sum(u1_0.monthly_rent), 0) 
    from
        units u1_0
2025-12-01 08:43:40 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getSystemWideStats() with result: SystemStatsDTO(totalProperties=4, totalUnits=7, occupiedUnits=4, overallOccupancyRate=57.14285714285714, totalActualIncome=8427.0, totalPotentialIncome=24372.0)
2025-12-01 08:48:00 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 08:53:00 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 08:58:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 09:03:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 09:08:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 09:13:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 09:18:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 09:23:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 09:28:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 09:33:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 09:38:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 09:43:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 09:48:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 09:53:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 09:58:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 10:03:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 10:08:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 10:13:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 10:18:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 10:23:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 10:28:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 10:33:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 10:38:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 10:43:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 10:48:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 10:53:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 10:58:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 11:03:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 11:08:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 11:13:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 11:16:21 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/stats/system-wide
2025-12-01 11:16:21 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/stats/system-wide
2025-12-01 11:16:21 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:16:21 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:16:21 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 11:16:21 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 11:16:21 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getSystemWideStats() with arguments: []
2025-12-01 11:16:21 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        properties p1_0
2025-12-01 11:16:21 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        units u1_0
2025-12-01 11:16:21 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        u1_0.occupancy_status=?
2025-12-01 11:16:21 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        coalesce(sum(u1_0.monthly_rent), 0) 
    from
        units u1_0 
    where
        u1_0.occupancy_status='OCCUPIED'
2025-12-01 11:16:21 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        coalesce(sum(u1_0.monthly_rent), 0) 
    from
        units u1_0
2025-12-01 11:16:21 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getSystemWideStats() with result: SystemStatsDTO(totalProperties=4, totalUnits=7, occupiedUnits=4, overallOccupancyRate=57.14285714285714, totalActualIncome=8427.0, totalPotentialIncome=24372.0)
2025-12-01 11:16:30 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/stats/system-wide
2025-12-01 11:16:30 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/stats/system-wide
2025-12-01 11:16:30 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:16:30 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:16:30 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 11:16:30 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 11:16:35 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/count
2025-12-01 11:16:35 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/by-manager/1?page=0&size=9
2025-12-01 11:16:35 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /properties/search?page=0&size=9
2025-12-01 11:16:35 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=9
2025-12-01 11:16:35 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/count
2025-12-01 11:16:35 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesCount(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:16:35 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesCount(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:16:35 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public long com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getTotalPropertiesCount(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 11:16:35 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public long com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getTotalPropertiesCount(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 11:16:35 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getTotalPropertiesCount() with arguments: []
2025-12-01 11:16:35 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        properties p1_0
2025-12-01 11:16:35 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getTotalPropertiesCount() with result: 4
2025-12-01 11:16:35 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/by-manager/1?page=0&size=9
2025-12-01 11:16:35 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesByManager(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:16:35 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesByManager(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:16:35 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /properties/search?page=0&size=9
2025-12-01 11:16:35 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getPropertiesByManager(..) with arguments: [1, Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 11:16:35 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.searchPropertiesByFilter(com.proveritus.propertyservice.property.dto.PropertyFilterDTO,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:16:35 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.searchPropertiesByFilter(com.proveritus.propertyservice.property.dto.PropertyFilterDTO,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:16:35 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.managed_by=? 
    limit
        ?
2025-12-01 11:16:35 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.searchProperties(..) with arguments: [com.proveritus.propertyservice.property.dto.PropertyFilterDTO@50da3466, Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 11:16:35 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=9
2025-12-01 11:16:35 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:16:35 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        1=1 
    limit
        ?, ?
2025-12-01 11:16:35 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:16:35 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 11:16:35 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 11:16:35 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getPropertiesByManager(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 11:16:35 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.searchProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 11:16:35 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 11:16:38 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/1
2025-12-01 11:16:38 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/1/stats
2025-12-01 11:16:38 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units/property/1/count
2025-12-01 11:16:38 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units/property/1/income
2025-12-01 11:16:38 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units/property/1/count
2025-12-01 11:16:38 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units/property/1/income
2025-12-01 11:16:38 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/1/stats
2025-12-01 11:16:38 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.calculateRentalIncome(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:16:38 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:16:38 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.countUnitsByProperty(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:16:38 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:16:38 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.countUnitsByProperty(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:16:38 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.calculateRentalIncome(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:16:38 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getPropertyStats(..) with arguments: [1]
2025-12-01 11:16:38 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        (select
            count(f1_0.id) 
        from
            floors f1_0 
        where
            f1_0.property_id=p1_0.id),
        (select
            count(u2_0.id) 
        from
            units u2_0 
        where
            u2_0.property_id=p1_0.id),
        coalesce(sum(case 
            when u1_0.occupancy_status='OCCUPIED' 
                then 1 
            else 0 
    end), 0),
    coalesce(sum(case 
        when u1_0.occupancy_status='AVAILABLE' 
            then 1 
        else 0 
end), 0),
coalesce(sum(case 
    when u1_0.occupancy_status='RESERVED' 
        then 1 
    else 0 
end), 0),
coalesce(sum(case 
    when u1_0.occupancy_status='NOT_AVAILABLE' 
        then 1 
    else 0 
end), 0),
coalesce(sum(case 
    when u1_0.occupancy_status='UNDER_MAINTENANCE' 
        then 1 
    else 0 
end), 0),
case 
    when (select
        count(u3_0.id) from
            units u3_0 
        where
            u3_0.property_id=p1_0.id)>0 
            then ((coalesce(sum(case 
                when u1_0.occupancy_status='OCCUPIED' 
                    then 1 
                else 0 
        end), 0)*100.0)/(select
            count(u4_0.id) 
        from
            units u4_0 
        where
            u4_0.property_id=p1_0.id)) 
    else 0.0 
end,
case 
    when (select
        count(u5_0.id) from
            units u5_0 
        where
            u5_0.property_id=p1_0.id)>0 
            then ((coalesce(sum(case 
                when u1_0.occupancy_status='AVAILABLE' 
                    then 1 
                else 0 
        end), 0)*100.0)/(select
            count(u6_0.id) 
        from
            units u6_0 
        where
            u6_0.property_id=p1_0.id)) 
    else 0.0 
end,
coalesce(sum(case 
    when u1_0.occupancy_status='OCCUPIED' 
        then u1_0.monthly_rent 
    else 0 
end), 0.0),
coalesce(sum(u1_0.monthly_rent), 0.0) 
from
    properties p1_0 
left join
    units u1_0 
        on u1_0.property_id=p1_0.id 
where
    p1_0.id=? 
group by
    p1_0.id
2025-12-01 11:16:38 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.countUnitsByPropertyId(..) with arguments: [1]
2025-12-01 11:16:38 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:16:38 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/1
2025-12-01 11:16:38 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        u1_0.property_id=?
2025-12-01 11:16:38 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyById(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:16:38 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.countUnitsByPropertyId(..) with result: 1
2025-12-01 11:16:38 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyById(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:16:38 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.calculatePotentialRentalIncome(..) with arguments: [1]
2025-12-01 11:16:38 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:16:38 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getPropertyById(..) with arguments: [1]
2025-12-01 11:16:38 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:16:38 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getPropertyStats(..) with result: PropertyStatsDTO(totalFloors=3, totalUnits=1, occupiedUnits=1, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=100.0, vacancyRate=0.0, totalRentalIncome=245.0, potentialRentalIncome=245.0)
2025-12-01 11:16:38 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        coalesce(sum(u1_0.monthly_rent), 0) 
    from
        units u1_0 
    where
        u1_0.property_id=? 
        and u1_0.occupancy_status='OCCUPIED'
2025-12-01 11:16:38 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.calculatePotentialRentalIncome(..) with result: 245.0
2025-12-01 11:16:38 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getPropertyById(..) with result: com.proveritus.propertyservice.property.dto.PropertyDTO@9909ed0
2025-12-01 11:16:38 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=1&page=0&size=6
2025-12-01 11:16:38 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=1&page=0&size=6
2025-12-01 11:16:38 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:16:38 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:16:38 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [1, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 11:16:38 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:16:38 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:16:38 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:16:38 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 11:16:38 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:16:38 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:16:38 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:16:38 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 11:16:38 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/2/occupancy-stats
2025-12-01 11:16:38 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/5/occupancy-stats
2025-12-01 11:16:38 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/1/occupancy-stats
2025-12-01 11:16:38 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/2/occupancy-stats
2025-12-01 11:16:38 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:16:38 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/5/occupancy-stats
2025-12-01 11:16:38 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/1/occupancy-stats
2025-12-01 11:16:38 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:16:38 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:16:38 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:16:38 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:16:38 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:16:38 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [2]
2025-12-01 11:16:38 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [5]
2025-12-01 11:16:38 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:16:38 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:16:38 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [1]
2025-12-01 11:16:38 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:16:38 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:16:38 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:16:38 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:16:38 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 11:16:38 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 11:16:38 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=1, occupiedUnits=1, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=100.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 11:16:58 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=1&page=0&size=9
2025-12-01 11:16:59 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=1&page=0&size=9
2025-12-01 11:16:59 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:16:59 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:16:59 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [1, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 11:16:59 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:16:59 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:16:59 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:16:59 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 11:16:59 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:16:59 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:16:59 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:16:59 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 11:17:01 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?propertyId=1&page=0&size=9
2025-12-01 11:17:01 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=1&size=0
2025-12-01 11:17:01 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=1&size=0
2025-12-01 11:17:01 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?propertyId=1&page=0&size=9
2025-12-01 11:17:01 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:17:01 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:17:01 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:17:01 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:17:01 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [1]
2025-12-01 11:17:01 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [1, null, null, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 11:17:01 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:17:01 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:17:01 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:17:01 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 11:17:01 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:17:01 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:17:01 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=?
2025-12-01 11:17:01 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 11:17:01 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:17:01 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:17:01 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:17:01 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: [com.proveritus.propertyservice.floor.dto.FloorDTO@3ee9c33f, com.proveritus.propertyservice.floor.dto.FloorDTO@6f7a8773, com.proveritus.propertyservice.floor.dto.FloorDTO@29ab8357]
2025-12-01 11:18:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 11:18:16 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=1&page=0&size=9
2025-12-01 11:18:16 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=1&page=0&size=9
2025-12-01 11:18:16 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:18:16 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:18:16 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [1, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 11:18:16 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:18:16 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:18:16 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:18:16 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 11:18:16 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:18:16 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:18:16 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:18:16 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 11:18:41 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /floors/2
2025-12-01 11:18:41 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /floors/2
2025-12-01 11:18:41 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.updateFloor(java.lang.Long,com.proveritus.propertyservice.floor.dto.FloorDTO); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:18:41 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.updateFloor(java.lang.Long,com.proveritus.propertyservice.floor.dto.FloorDTO); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:18:41 [http-nio-8082-exec-8] INFO  c.p.p.floor.api.FloorRestController - Updating floor with ID: 2
2025-12-01 11:18:41 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.updateFloor(..) with arguments: [2, com.proveritus.propertyservice.floor.dto.FloorDTO@5f0557cf]
2025-12-01 11:18:41 [http-nio-8082-exec-8] INFO  c.p.p.f.s.Impl.FloorServiceImpl - Updating floor with ID: 2
2025-12-01 11:18:41 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:18:41 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:18:41 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:18:41 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:18:41 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:18:41 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.updateFloor(..) with result: com.proveritus.propertyservice.floor.dto.FloorDTO@5297cdc0
2025-12-01 11:18:41 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=1&page=0&size=9
2025-12-01 11:18:41 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=1&page=0&size=9
2025-12-01 11:18:41 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:18:41 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:18:41 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [1, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 11:18:41 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:18:41 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:18:41 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:18:41 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 11:18:41 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:18:41 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:18:41 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:18:41 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 11:18:56 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /floors
2025-12-01 11:18:56 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /floors
2025-12-01 11:18:56 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.createFloor(com.proveritus.propertyservice.floor.dto.FloorDTO); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:18:56 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.createFloor(com.proveritus.propertyservice.floor.dto.FloorDTO); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:18:56 [http-nio-8082-exec-7] INFO  c.p.p.floor.api.FloorRestController - Creating floor for property ID: 1
2025-12-01 11:18:56 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.createFloor(..) with arguments: [com.proveritus.propertyservice.floor.dto.FloorDTO@43fc3b04]
2025-12-01 11:18:56 [http-nio-8082-exec-7] INFO  c.p.p.f.s.Impl.FloorServiceImpl - Creating new floor: f4
2025-12-01 11:18:56 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.name=? 
        and f1_0.property_id=?
2025-12-01 11:18:56 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:18:56 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:18:56 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:18:56 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        floors
        (created_by, created_date, deleted, last_modified_by, last_modified_date, name, number_of_units, occupied_units, property_id, vacant_units, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-01 11:18:56 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.createFloor(..) with result: com.proveritus.propertyservice.floor.dto.FloorDTO@18553ece
2025-12-01 11:18:56 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=1&page=0&size=9
2025-12-01 11:18:56 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=1&page=0&size=9
2025-12-01 11:18:56 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:18:56 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:18:56 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [1, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 11:18:56 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:18:56 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:18:56 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:18:56 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 11:18:56 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:18:56 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:18:56 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:18:56 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:18:56 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 11:19:01 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /floors/8
2025-12-01 11:19:01 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /floors/8
2025-12-01 11:19:01 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.updateFloor(java.lang.Long,com.proveritus.propertyservice.floor.dto.FloorDTO); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:01 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.updateFloor(java.lang.Long,com.proveritus.propertyservice.floor.dto.FloorDTO); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:01 [http-nio-8082-exec-6] INFO  c.p.p.floor.api.FloorRestController - Updating floor with ID: 8
2025-12-01 11:19:01 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.updateFloor(..) with arguments: [8, com.proveritus.propertyservice.floor.dto.FloorDTO@5cf955bb]
2025-12-01 11:19:01 [http-nio-8082-exec-6] INFO  c.p.p.f.s.Impl.FloorServiceImpl - Updating floor with ID: 8
2025-12-01 11:19:01 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:19:01 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:19:01 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:19:01 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:19:01 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:19:01 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.updateFloor(..) with result: com.proveritus.propertyservice.floor.dto.FloorDTO@195da8af
2025-12-01 11:19:01 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=1&page=0&size=9
2025-12-01 11:19:01 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=1&page=0&size=9
2025-12-01 11:19:01 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:01 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:01 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [1, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 11:19:01 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:19:01 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:19:01 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:19:01 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 11:19:01 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:19:01 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:19:01 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:19:01 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:19:01 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 11:19:04 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/count
2025-12-01 11:19:04 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /properties/search?page=0&size=9
2025-12-01 11:19:04 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/count
2025-12-01 11:19:04 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesCount(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:04 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesCount(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:04 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public long com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getTotalPropertiesCount(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 11:19:04 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public long com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getTotalPropertiesCount(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 11:19:04 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getTotalPropertiesCount() with arguments: []
2025-12-01 11:19:04 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /properties/search?page=0&size=9
2025-12-01 11:19:04 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        properties p1_0
2025-12-01 11:19:04 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.searchPropertiesByFilter(com.proveritus.propertyservice.property.dto.PropertyFilterDTO,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:04 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.searchPropertiesByFilter(com.proveritus.propertyservice.property.dto.PropertyFilterDTO,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:04 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getTotalPropertiesCount() with result: 4
2025-12-01 11:19:04 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.searchProperties(..) with arguments: [com.proveritus.propertyservice.property.dto.PropertyFilterDTO@1f072a47, Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 11:19:04 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        1=1 
    limit
        ?, ?
2025-12-01 11:19:04 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=9
2025-12-01 11:19:04 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/by-manager/1?page=0&size=9
2025-12-01 11:19:04 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/by-manager/1?page=0&size=9
2025-12-01 11:19:04 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=9
2025-12-01 11:19:04 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesByManager(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:04 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:04 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesByManager(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:04 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:04 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 11:19:04 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getPropertiesByManager(..) with arguments: [1, Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 11:19:04 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 11:19:04 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.managed_by=? 
    limit
        ?
2025-12-01 11:19:04 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.searchProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 11:19:04 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getPropertiesByManager(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 11:19:04 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 11:19:11 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/2/occupancy-stats
2025-12-01 11:19:11 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/1/occupancy-stats
2025-12-01 11:19:11 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=1&page=0&size=6
2025-12-01 11:19:11 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/5/occupancy-stats
2025-12-01 11:19:11 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/1/stats
2025-12-01 11:19:11 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/1
2025-12-01 11:19:11 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/2/occupancy-stats
2025-12-01 11:19:11 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/1/stats
2025-12-01 11:19:11 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:11 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=1&page=0&size=6
2025-12-01 11:19:11 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:11 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:11 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:11 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:11 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:11 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/5/occupancy-stats
2025-12-01 11:19:11 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/1
2025-12-01 11:19:11 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:11 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/1/occupancy-stats
2025-12-01 11:19:11 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:11 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:11 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [2]
2025-12-01 11:19:11 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [1, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 11:19:11 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [5]
2025-12-01 11:19:11 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:11 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:19:11 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:19:11 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [1]
2025-12-01 11:19:11 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:19:11 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:19:11 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:19:11 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:19:11 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:19:11 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyById(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:11 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:19:11 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 11:19:11 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 11:19:11 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyById(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:11 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:19:11 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 11:19:11 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=1, occupiedUnits=1, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=100.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 11:19:11 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:19:11 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units/property/1/income
2025-12-01 11:19:11 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:19:11 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units/property/1/count
2025-12-01 11:19:11 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:19:11 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:19:11 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 11:19:11 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units/property/1/income
2025-12-01 11:19:11 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units/property/1/count
2025-12-01 11:19:11 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.countUnitsByProperty(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:19:11 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.calculateRentalIncome(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:19:11 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.countUnitsByProperty(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:19:11 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.calculateRentalIncome(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:19:11 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.calculatePotentialRentalIncome(..) with arguments: [1]
2025-12-01 11:19:11 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.countUnitsByPropertyId(..) with arguments: [1]
2025-12-01 11:19:11 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:19:11 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:19:11 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        u1_0.property_id=?
2025-12-01 11:19:11 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        coalesce(sum(u1_0.monthly_rent), 0) 
    from
        units u1_0 
    where
        u1_0.property_id=? 
        and u1_0.occupancy_status='OCCUPIED'
2025-12-01 11:19:11 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.countUnitsByPropertyId(..) with result: 1
2025-12-01 11:19:11 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.calculatePotentialRentalIncome(..) with result: 245.0
2025-12-01 11:19:11 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/8/occupancy-stats
2025-12-01 11:19:11 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/8/occupancy-stats
2025-12-01 11:19:11 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:11 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:11 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [8]
2025-12-01 11:19:11 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:19:11 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:19:11 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 11:19:29 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/count
2025-12-01 11:19:29 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=9
2025-12-01 11:19:29 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/by-manager/1?page=0&size=9
2025-12-01 11:19:29 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /properties/search?page=0&size=9
2025-12-01 11:19:29 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/count
2025-12-01 11:19:29 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesCount(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:29 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesCount(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:29 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public long com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getTotalPropertiesCount(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 11:19:29 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public long com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getTotalPropertiesCount(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 11:19:29 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=9
2025-12-01 11:19:29 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:29 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getTotalPropertiesCount() with arguments: []
2025-12-01 11:19:29 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:29 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        properties p1_0
2025-12-01 11:19:29 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 11:19:29 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /properties/search?page=0&size=9
2025-12-01 11:19:29 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getTotalPropertiesCount() with result: 4
2025-12-01 11:19:29 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 11:19:29 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/by-manager/1?page=0&size=9
2025-12-01 11:19:29 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.searchPropertiesByFilter(com.proveritus.propertyservice.property.dto.PropertyFilterDTO,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:29 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesByManager(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:29 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.searchPropertiesByFilter(com.proveritus.propertyservice.property.dto.PropertyFilterDTO,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:29 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesByManager(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:29 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.searchProperties(..) with arguments: [com.proveritus.propertyservice.property.dto.PropertyFilterDTO@12f7998e, Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 11:19:29 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getPropertiesByManager(..) with arguments: [1, Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 11:19:29 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        1=1 
    limit
        ?, ?
2025-12-01 11:19:29 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.managed_by=? 
    limit
        ?
2025-12-01 11:19:29 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getPropertiesByManager(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 11:19:29 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 11:19:29 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.searchProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 11:19:32 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/2/stats
2025-12-01 11:19:32 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units/property/2/count
2025-12-01 11:19:32 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/2
2025-12-01 11:19:32 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units/property/2/income
2025-12-01 11:19:32 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/2
2025-12-01 11:19:32 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units/property/2/income
2025-12-01 11:19:32 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyById(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:32 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.calculateRentalIncome(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:19:32 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyById(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:32 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units/property/2/count
2025-12-01 11:19:32 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/2/stats
2025-12-01 11:19:32 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.calculateRentalIncome(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:19:32 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:32 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.countUnitsByProperty(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:19:32 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.calculatePotentialRentalIncome(..) with arguments: [2]
2025-12-01 11:19:32 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getPropertyById(..) with arguments: [2]
2025-12-01 11:19:32 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:32 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.countUnitsByProperty(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:19:32 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:19:32 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:19:32 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getPropertyStats(..) with arguments: [2]
2025-12-01 11:19:32 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.countUnitsByPropertyId(..) with arguments: [2]
2025-12-01 11:19:32 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:19:32 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        (select
            count(f1_0.id) 
        from
            floors f1_0 
        where
            f1_0.property_id=p1_0.id),
        (select
            count(u2_0.id) 
        from
            units u2_0 
        where
            u2_0.property_id=p1_0.id),
        coalesce(sum(case 
            when u1_0.occupancy_status='OCCUPIED' 
                then 1 
            else 0 
    end), 0),
    coalesce(sum(case 
        when u1_0.occupancy_status='AVAILABLE' 
            then 1 
        else 0 
end), 0),
coalesce(sum(case 
    when u1_0.occupancy_status='RESERVED' 
        then 1 
    else 0 
end), 0),
coalesce(sum(case 
    when u1_0.occupancy_status='NOT_AVAILABLE' 
        then 1 
    else 0 
end), 0),
coalesce(sum(case 
    when u1_0.occupancy_status='UNDER_MAINTENANCE' 
        then 1 
    else 0 
end), 0),
case 
    when (select
        count(u3_0.id) from
            units u3_0 
        where
            u3_0.property_id=p1_0.id)>0 
            then ((coalesce(sum(case 
                when u1_0.occupancy_status='OCCUPIED' 
                    then 1 
                else 0 
        end), 0)*100.0)/(select
            count(u4_0.id) 
        from
            units u4_0 
        where
            u4_0.property_id=p1_0.id)) 
    else 0.0 
end,
case 
    when (select
        count(u5_0.id) from
            units u5_0 
        where
            u5_0.property_id=p1_0.id)>0 
            then ((coalesce(sum(case 
                when u1_0.occupancy_status='AVAILABLE' 
                    then 1 
                else 0 
        end), 0)*100.0)/(select
            count(u6_0.id) 
        from
            units u6_0 
        where
            u6_0.property_id=p1_0.id)) 
    else 0.0 
end,
coalesce(sum(case 
    when u1_0.occupancy_status='OCCUPIED' 
        then u1_0.monthly_rent 
    else 0 
end), 0.0),
coalesce(sum(u1_0.monthly_rent), 0.0) 
from
    properties p1_0 
left join
    units u1_0 
        on u1_0.property_id=p1_0.id 
where
    p1_0.id=? 
group by
    p1_0.id
2025-12-01 11:19:32 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        u1_0.property_id=?
2025-12-01 11:19:32 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        coalesce(sum(u1_0.monthly_rent), 0) 
    from
        units u1_0 
    where
        u1_0.property_id=? 
        and u1_0.occupancy_status='OCCUPIED'
2025-12-01 11:19:32 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getPropertyStats(..) with result: PropertyStatsDTO(totalFloors=1, totalUnits=2, occupiedUnits=1, vacantUnits=1, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=50.0, vacancyRate=50.0, totalRentalIncome=522.0, potentialRentalIncome=14967.0)
2025-12-01 11:19:32 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.calculatePotentialRentalIncome(..) with result: 522.0
2025-12-01 11:19:32 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.countUnitsByPropertyId(..) with result: 2
2025-12-01 11:19:32 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getPropertyById(..) with result: com.proveritus.propertyservice.property.dto.PropertyDTO@7729c4f3
2025-12-01 11:19:32 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=2&page=0&size=6
2025-12-01 11:19:32 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=2&page=0&size=6
2025-12-01 11:19:32 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:32 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:32 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [2, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 11:19:32 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:19:32 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:19:32 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:19:32 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 11:19:32 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:19:32 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 11:19:32 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/6/occupancy-stats
2025-12-01 11:19:32 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/6/occupancy-stats
2025-12-01 11:19:32 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:32 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:32 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [6]
2025-12-01 11:19:32 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:19:32 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:19:32 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=2, occupiedUnits=1, vacantUnits=1, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=50.0, vacancyRate=50.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 11:19:42 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /floors
2025-12-01 11:19:42 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /floors
2025-12-01 11:19:42 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.createFloor(com.proveritus.propertyservice.floor.dto.FloorDTO); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:42 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.createFloor(com.proveritus.propertyservice.floor.dto.FloorDTO); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:42 [http-nio-8082-exec-5] INFO  c.p.p.floor.api.FloorRestController - Creating floor for property ID: 2
2025-12-01 11:19:42 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.createFloor(..) with arguments: [com.proveritus.propertyservice.floor.dto.FloorDTO@56a77bb5]
2025-12-01 11:19:42 [http-nio-8082-exec-5] INFO  c.p.p.f.s.Impl.FloorServiceImpl - Creating new floor: f2
2025-12-01 11:19:42 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.name=? 
        and f1_0.property_id=?
2025-12-01 11:19:42 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:19:42 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:19:42 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:19:42 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        floors
        (created_by, created_date, deleted, last_modified_by, last_modified_date, name, number_of_units, occupied_units, property_id, vacant_units, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-01 11:19:42 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.createFloor(..) with result: com.proveritus.propertyservice.floor.dto.FloorDTO@2977291
2025-12-01 11:19:42 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/2/stats
2025-12-01 11:19:42 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=2&page=0&size=6
2025-12-01 11:19:42 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=2&page=0&size=6
2025-12-01 11:19:42 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/2/stats
2025-12-01 11:19:42 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:42 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:42 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:42 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:42 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [2, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 11:19:42 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:19:42 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:19:42 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:19:42 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 11:19:42 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:19:42 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:19:42 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 11:19:42 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/9/occupancy-stats
2025-12-01 11:19:42 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/9/occupancy-stats
2025-12-01 11:19:42 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:42 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:42 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [9]
2025-12-01 11:19:42 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:19:42 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:19:42 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 11:19:50 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /floors
2025-12-01 11:19:50 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /floors
2025-12-01 11:19:50 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.createFloor(com.proveritus.propertyservice.floor.dto.FloorDTO); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:50 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.createFloor(com.proveritus.propertyservice.floor.dto.FloorDTO); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:50 [http-nio-8082-exec-8] INFO  c.p.p.floor.api.FloorRestController - Creating floor for property ID: 2
2025-12-01 11:19:50 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.createFloor(..) with arguments: [com.proveritus.propertyservice.floor.dto.FloorDTO@6767c057]
2025-12-01 11:19:50 [http-nio-8082-exec-8] INFO  c.p.p.f.s.Impl.FloorServiceImpl - Creating new floor: f3
2025-12-01 11:19:50 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.name=? 
        and f1_0.property_id=?
2025-12-01 11:19:50 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:19:50 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:19:50 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:19:50 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        floors
        (created_by, created_date, deleted, last_modified_by, last_modified_date, name, number_of_units, occupied_units, property_id, vacant_units, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-01 11:19:50 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.createFloor(..) with result: com.proveritus.propertyservice.floor.dto.FloorDTO@74ef2a84
2025-12-01 11:19:50 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/2/stats
2025-12-01 11:19:50 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=2&page=0&size=6
2025-12-01 11:19:50 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/2/stats
2025-12-01 11:19:50 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=2&page=0&size=6
2025-12-01 11:19:50 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:50 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:50 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:19:50 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:50 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [2, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 11:19:50 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:19:50 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:19:50 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:19:50 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 11:19:50 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:19:50 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:19:50 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:19:50 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 11:19:50 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/10/occupancy-stats
2025-12-01 11:19:50 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/10/occupancy-stats
2025-12-01 11:19:50 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:50 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:50 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [10]
2025-12-01 11:19:50 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:19:50 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:19:50 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 11:19:53 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=2&size=0
2025-12-01 11:19:53 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=2&size=0
2025-12-01 11:19:53 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:53 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:19:53 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [2]
2025-12-01 11:19:53 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:19:53 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:19:53 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:19:53 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=?
2025-12-01 11:19:53 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:19:53 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:19:53 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:19:53 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: [com.proveritus.propertyservice.floor.dto.FloorDTO@60be151b, com.proveritus.propertyservice.floor.dto.FloorDTO@35d67496, com.proveritus.propertyservice.floor.dto.FloorDTO@782e02b3]
2025-12-01 11:19:53 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?floorId=6&page=0&size=6
2025-12-01 11:19:53 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?floorId=6&page=0&size=6
2025-12-01 11:19:53 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:19:53 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:19:53 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, 6, null, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 11:19:53 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:19:53 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:19:53 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 11:19:53 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 11:20:15 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /units
2025-12-01 11:20:15 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /units
2025-12-01 11:20:15 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.createUnit(com.proveritus.propertyservice.unit.dto.UnitDTO); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:20:15 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.createUnit(com.proveritus.propertyservice.unit.dto.UnitDTO); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:20:15 [http-nio-8082-exec-5] INFO  c.p.p.unit.api.UnitRestController - Creating unit: u1
2025-12-01 11:20:15 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.createUnit(..) with arguments: [UnitDTO(id=null, name=u1, size=null, rentType=null, ratePerSqm=null, monthlyRent=999.0, occupancyStatus=AVAILABLE, tenant=Tinashe Mutero, tenantEmail=null, tenantPhone=null, leaseStartDate=null, leaseEndDate=null, propertyId=2, floorId=6)]
2025-12-01 11:20:15 [http-nio-8082-exec-5] INFO  c.p.p.u.service.Impl.UnitServiceImpl - Creating new unit: u1
2025-12-01 11:20:15 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.name=? 
        and u1_0.property_id=?
2025-12-01 11:20:15 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:20:15 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:20:15 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:20:15 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:20:15 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:20:15 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:20:15 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        units
        (created_by, created_date, deleted, floor_id, last_modified_by, last_modified_date, lease_end_date, lease_start_date, monthly_rent, name, occupancy_status, property_id, rate_per_sqm, rent_type, size, tenant, tenant_email, tenant_phone, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-01 11:20:15 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.updateFloorOccupancyStats(..) with arguments: [6]
2025-12-01 11:20:15 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(f1_0.id) 
    from
        floors f1_0 
    where
        f1_0.property_id=?
2025-12-01 11:20:15 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:20:15 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.updateFloorOccupancyStats(..) with result: null
2025-12-01 11:20:15 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.createUnit(..) with result: UnitDTO(id=8, name=u1, size=null, rentType=null, ratePerSqm=null, monthlyRent=999.0, occupancyStatus=AVAILABLE, tenant=Tinashe Mutero, tenantEmail=null, tenantPhone=null, leaseStartDate=null, leaseEndDate=null, propertyId=null, floorId=null)
2025-12-01 11:20:15 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    update
        floors 
    set
        deleted=?,
        last_modified_by=?,
        last_modified_date=?,
        name=?,
        number_of_units=?,
        occupied_units=?,
        property_id=?,
        vacant_units=?,
        version=? 
    where
        id=? 
        and version=?
2025-12-01 11:20:16 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?floorId=6&page=0&size=6
2025-12-01 11:20:16 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?floorId=6&page=0&size=6
2025-12-01 11:20:16 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:20:16 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:20:16 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, 6, null, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 11:20:16 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:20:16 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:20:16 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 11:20:16 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 11:20:31 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /units
2025-12-01 11:20:31 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /units
2025-12-01 11:20:31 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.createUnit(com.proveritus.propertyservice.unit.dto.UnitDTO); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:20:31 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.createUnit(com.proveritus.propertyservice.unit.dto.UnitDTO); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:20:31 [http-nio-8082-exec-10] INFO  c.p.p.unit.api.UnitRestController - Creating unit: u2
2025-12-01 11:20:31 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.createUnit(..) with arguments: [UnitDTO(id=null, name=u2, size=null, rentType=null, ratePerSqm=null, monthlyRent=999.0, occupancyStatus=RESERVED, tenant=Tinashe Mutero, tenantEmail=null, tenantPhone=null, leaseStartDate=null, leaseEndDate=null, propertyId=2, floorId=6)]
2025-12-01 11:20:31 [http-nio-8082-exec-10] INFO  c.p.p.u.service.Impl.UnitServiceImpl - Creating new unit: u2
2025-12-01 11:20:31 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.name=? 
        and u1_0.property_id=?
2025-12-01 11:20:31 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:20:31 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:20:31 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:20:31 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:20:31 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:20:31 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:20:31 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        units
        (created_by, created_date, deleted, floor_id, last_modified_by, last_modified_date, lease_end_date, lease_start_date, monthly_rent, name, occupancy_status, property_id, rate_per_sqm, rent_type, size, tenant, tenant_email, tenant_phone, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-01 11:20:31 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.updateFloorOccupancyStats(..) with arguments: [6]
2025-12-01 11:20:31 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(f1_0.id) 
    from
        floors f1_0 
    where
        f1_0.property_id=?
2025-12-01 11:20:31 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:20:31 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.updateFloorOccupancyStats(..) with result: null
2025-12-01 11:20:31 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.createUnit(..) with result: UnitDTO(id=9, name=u2, size=null, rentType=null, ratePerSqm=null, monthlyRent=999.0, occupancyStatus=RESERVED, tenant=Tinashe Mutero, tenantEmail=null, tenantPhone=null, leaseStartDate=null, leaseEndDate=null, propertyId=null, floorId=null)
2025-12-01 11:20:31 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?floorId=6&page=0&size=6
2025-12-01 11:20:32 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?floorId=6&page=0&size=6
2025-12-01 11:20:32 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:20:32 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:20:32 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, 6, null, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 11:20:32 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:20:32 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:20:32 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 11:20:32 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 11:20:41 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /units
2025-12-01 11:20:41 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /units
2025-12-01 11:20:41 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.createUnit(com.proveritus.propertyservice.unit.dto.UnitDTO); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:20:41 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.createUnit(com.proveritus.propertyservice.unit.dto.UnitDTO); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:20:41 [http-nio-8082-exec-8] INFO  c.p.p.unit.api.UnitRestController - Creating unit: u3
2025-12-01 11:20:41 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.createUnit(..) with arguments: [UnitDTO(id=null, name=u3, size=null, rentType=null, ratePerSqm=null, monthlyRent=999.0, occupancyStatus=RESERVED, tenant=Tinashe Mutero, tenantEmail=null, tenantPhone=null, leaseStartDate=null, leaseEndDate=null, propertyId=2, floorId=6)]
2025-12-01 11:20:41 [http-nio-8082-exec-8] INFO  c.p.p.u.service.Impl.UnitServiceImpl - Creating new unit: u3
2025-12-01 11:20:41 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.name=? 
        and u1_0.property_id=?
2025-12-01 11:20:41 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:20:41 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:20:41 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:20:41 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:20:41 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:20:41 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:20:41 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        units
        (created_by, created_date, deleted, floor_id, last_modified_by, last_modified_date, lease_end_date, lease_start_date, monthly_rent, name, occupancy_status, property_id, rate_per_sqm, rent_type, size, tenant, tenant_email, tenant_phone, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-01 11:20:41 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.updateFloorOccupancyStats(..) with arguments: [6]
2025-12-01 11:20:41 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(f1_0.id) 
    from
        floors f1_0 
    where
        f1_0.property_id=?
2025-12-01 11:20:41 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:20:41 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.updateFloorOccupancyStats(..) with result: null
2025-12-01 11:20:41 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.createUnit(..) with result: UnitDTO(id=10, name=u3, size=null, rentType=null, ratePerSqm=null, monthlyRent=999.0, occupancyStatus=RESERVED, tenant=Tinashe Mutero, tenantEmail=null, tenantPhone=null, leaseStartDate=null, leaseEndDate=null, propertyId=null, floorId=null)
2025-12-01 11:20:41 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?floorId=6&page=0&size=6
2025-12-01 11:20:41 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?floorId=6&page=0&size=6
2025-12-01 11:20:41 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:20:41 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:20:41 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, 6, null, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 11:20:41 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:20:41 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:20:41 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 11:20:41 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 11:20:48 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing PATCH /units/10/occupancy?occupancyStatus=OCCUPIED&tenant=
2025-12-01 11:20:48 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured PATCH /units/10/occupancy?occupancyStatus=OCCUPIED&tenant=
2025-12-01 11:20:48 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.updateOccupancyStatus(java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:20:48 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.updateOccupancyStatus(java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:20:48 [http-nio-8082-exec-7] INFO  c.p.p.unit.api.UnitRestController - Updating occupancy status for unit ID: 10 to OCCUPIED
2025-12-01 11:20:48 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.updateOccupancyStatus(..) with arguments: [10, OCCUPIED, ]
2025-12-01 11:20:48 [http-nio-8082-exec-7] INFO  c.p.p.u.service.Impl.UnitServiceImpl - Updating occupancy status for unit ID: 10 to OCCUPIED
2025-12-01 11:20:48 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.id=?
2025-12-01 11:20:48 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.updateFloorOccupancyStats(..) with arguments: [6]
2025-12-01 11:20:48 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:20:49 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(f1_0.id) 
    from
        floors f1_0 
    where
        f1_0.property_id=?
2025-12-01 11:20:49 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:20:49 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.updateFloorOccupancyStats(..) with result: null
2025-12-01 11:20:49 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.updateOccupancyStatus(..) with result: UnitDTO(id=10, name=u3, size=null, rentType=null, ratePerSqm=null, monthlyRent=999.0, occupancyStatus=OCCUPIED, tenant=, tenantEmail=null, tenantPhone=null, leaseStartDate=null, leaseEndDate=null, propertyId=null, floorId=null)
2025-12-01 11:20:49 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    update
        units 
    set
        deleted=?,
        floor_id=?,
        last_modified_by=?,
        last_modified_date=?,
        lease_end_date=?,
        lease_start_date=?,
        monthly_rent=?,
        name=?,
        occupancy_status=?,
        property_id=?,
        rate_per_sqm=?,
        rent_type=?,
        size=?,
        tenant=?,
        tenant_email=?,
        tenant_phone=?,
        version=? 
    where
        id=? 
        and version=?
2025-12-01 11:20:49 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    update
        floors 
    set
        deleted=?,
        last_modified_by=?,
        last_modified_date=?,
        name=?,
        number_of_units=?,
        occupied_units=?,
        property_id=?,
        vacant_units=?,
        version=? 
    where
        id=? 
        and version=?
2025-12-01 11:20:49 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?floorId=6&page=0&size=6
2025-12-01 11:20:49 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?floorId=6&page=0&size=6
2025-12-01 11:20:49 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:20:49 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:20:49 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, 6, null, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 11:20:49 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:20:49 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:20:49 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 11:20:49 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 11:21:05 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing PATCH /units/3/occupancy?occupancyStatus=AVAILABLE&tenant=
2025-12-01 11:21:05 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured PATCH /units/3/occupancy?occupancyStatus=AVAILABLE&tenant=
2025-12-01 11:21:05 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.updateOccupancyStatus(java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:21:05 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.updateOccupancyStatus(java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:21:05 [http-nio-8082-exec-9] INFO  c.p.p.unit.api.UnitRestController - Updating occupancy status for unit ID: 3 to AVAILABLE
2025-12-01 11:21:05 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.updateOccupancyStatus(..) with arguments: [3, AVAILABLE, ]
2025-12-01 11:21:05 [http-nio-8082-exec-9] INFO  c.p.p.u.service.Impl.UnitServiceImpl - Updating occupancy status for unit ID: 3 to AVAILABLE
2025-12-01 11:21:05 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.id=?
2025-12-01 11:21:05 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.updateFloorOccupancyStats(..) with arguments: [6]
2025-12-01 11:21:05 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:21:05 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(f1_0.id) 
    from
        floors f1_0 
    where
        f1_0.property_id=?
2025-12-01 11:21:05 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:21:05 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.updateFloorOccupancyStats(..) with result: null
2025-12-01 11:21:05 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.updateOccupancyStatus(..) with result: UnitDTO(id=3, name=A01, size=null, rentType=null, ratePerSqm=null, monthlyRent=522.0, occupancyStatus=AVAILABLE, tenant=null, tenantEmail=null, tenantPhone=null, leaseStartDate=null, leaseEndDate=null, propertyId=null, floorId=null)
2025-12-01 11:21:05 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    update
        units 
    set
        deleted=?,
        floor_id=?,
        last_modified_by=?,
        last_modified_date=?,
        lease_end_date=?,
        lease_start_date=?,
        monthly_rent=?,
        name=?,
        occupancy_status=?,
        property_id=?,
        rate_per_sqm=?,
        rent_type=?,
        size=?,
        tenant=?,
        tenant_email=?,
        tenant_phone=?,
        version=? 
    where
        id=? 
        and version=?
2025-12-01 11:21:05 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    update
        floors 
    set
        deleted=?,
        last_modified_by=?,
        last_modified_date=?,
        name=?,
        number_of_units=?,
        occupied_units=?,
        property_id=?,
        vacant_units=?,
        version=? 
    where
        id=? 
        and version=?
2025-12-01 11:21:05 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?floorId=6&page=0&size=6
2025-12-01 11:21:05 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?floorId=6&page=0&size=6
2025-12-01 11:21:05 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:21:05 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:21:05 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, 6, null, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 11:21:05 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:21:05 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:21:05 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 11:21:05 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 11:21:12 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing PATCH /units/4/occupancy?occupancyStatus=RESERVED&tenant=
2025-12-01 11:21:12 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured PATCH /units/4/occupancy?occupancyStatus=RESERVED&tenant=
2025-12-01 11:21:12 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.updateOccupancyStatus(java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:21:12 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.updateOccupancyStatus(java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:21:12 [http-nio-8082-exec-5] INFO  c.p.p.unit.api.UnitRestController - Updating occupancy status for unit ID: 4 to RESERVED
2025-12-01 11:21:12 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.updateOccupancyStatus(..) with arguments: [4, RESERVED, ]
2025-12-01 11:21:12 [http-nio-8082-exec-5] INFO  c.p.p.u.service.Impl.UnitServiceImpl - Updating occupancy status for unit ID: 4 to RESERVED
2025-12-01 11:21:12 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.id=?
2025-12-01 11:21:12 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.updateFloorOccupancyStats(..) with arguments: [6]
2025-12-01 11:21:12 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:21:12 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(f1_0.id) 
    from
        floors f1_0 
    where
        f1_0.property_id=?
2025-12-01 11:21:12 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:21:12 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.updateFloorOccupancyStats(..) with result: null
2025-12-01 11:21:12 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.updateOccupancyStatus(..) with result: UnitDTO(id=4, name=GR, size=null, rentType=null, ratePerSqm=null, monthlyRent=14445.0, occupancyStatus=RESERVED, tenant=null, tenantEmail=null, tenantPhone=null, leaseStartDate=null, leaseEndDate=null, propertyId=null, floorId=null)
2025-12-01 11:21:12 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    update
        units 
    set
        deleted=?,
        floor_id=?,
        last_modified_by=?,
        last_modified_date=?,
        lease_end_date=?,
        lease_start_date=?,
        monthly_rent=?,
        name=?,
        occupancy_status=?,
        property_id=?,
        rate_per_sqm=?,
        rent_type=?,
        size=?,
        tenant=?,
        tenant_email=?,
        tenant_phone=?,
        version=? 
    where
        id=? 
        and version=?
2025-12-01 11:21:12 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?floorId=6&page=0&size=6
2025-12-01 11:21:12 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?floorId=6&page=0&size=6
2025-12-01 11:21:12 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:21:12 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:21:12 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, 6, null, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 11:21:12 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:21:12 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:21:12 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 11:21:12 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 11:21:17 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing PATCH /units/8/occupancy?occupancyStatus=VACANT&tenant=
2025-12-01 11:21:17 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured PATCH /units/8/occupancy?occupancyStatus=VACANT&tenant=
2025-12-01 11:21:28 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing PATCH /units/9/occupancy?occupancyStatus=OCCUPIED&tenant=
2025-12-01 11:21:28 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured PATCH /units/9/occupancy?occupancyStatus=OCCUPIED&tenant=
2025-12-01 11:21:28 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.updateOccupancyStatus(java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:21:28 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.updateOccupancyStatus(java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:21:28 [http-nio-8082-exec-1] INFO  c.p.p.unit.api.UnitRestController - Updating occupancy status for unit ID: 9 to OCCUPIED
2025-12-01 11:21:28 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.updateOccupancyStatus(..) with arguments: [9, OCCUPIED, ]
2025-12-01 11:21:28 [http-nio-8082-exec-1] INFO  c.p.p.u.service.Impl.UnitServiceImpl - Updating occupancy status for unit ID: 9 to OCCUPIED
2025-12-01 11:21:28 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.id=?
2025-12-01 11:21:28 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.updateFloorOccupancyStats(..) with arguments: [6]
2025-12-01 11:21:28 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:21:28 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(f1_0.id) 
    from
        floors f1_0 
    where
        f1_0.property_id=?
2025-12-01 11:21:28 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:21:28 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.updateFloorOccupancyStats(..) with result: null
2025-12-01 11:21:28 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.updateOccupancyStatus(..) with result: UnitDTO(id=9, name=u2, size=null, rentType=null, ratePerSqm=null, monthlyRent=999.0, occupancyStatus=OCCUPIED, tenant=, tenantEmail=null, tenantPhone=null, leaseStartDate=null, leaseEndDate=null, propertyId=null, floorId=null)
2025-12-01 11:21:28 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    update
        units 
    set
        deleted=?,
        floor_id=?,
        last_modified_by=?,
        last_modified_date=?,
        lease_end_date=?,
        lease_start_date=?,
        monthly_rent=?,
        name=?,
        occupancy_status=?,
        property_id=?,
        rate_per_sqm=?,
        rent_type=?,
        size=?,
        tenant=?,
        tenant_email=?,
        tenant_phone=?,
        version=? 
    where
        id=? 
        and version=?
2025-12-01 11:21:28 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    update
        floors 
    set
        deleted=?,
        last_modified_by=?,
        last_modified_date=?,
        name=?,
        number_of_units=?,
        occupied_units=?,
        property_id=?,
        vacant_units=?,
        version=? 
    where
        id=? 
        and version=?
2025-12-01 11:21:28 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?floorId=6&page=0&size=6
2025-12-01 11:21:28 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?floorId=6&page=0&size=6
2025-12-01 11:21:28 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:21:28 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:21:28 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, 6, null, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 11:21:28 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:21:28 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:21:28 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 11:21:28 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 11:21:33 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing PATCH /units/10/occupancy?occupancyStatus=UNDER_MAINTENANCE&tenant=
2025-12-01 11:21:33 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured PATCH /units/10/occupancy?occupancyStatus=UNDER_MAINTENANCE&tenant=
2025-12-01 11:21:33 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.updateOccupancyStatus(java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:21:33 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.updateOccupancyStatus(java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:21:33 [http-nio-8082-exec-3] INFO  c.p.p.unit.api.UnitRestController - Updating occupancy status for unit ID: 10 to UNDER_MAINTENANCE
2025-12-01 11:21:33 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.updateOccupancyStatus(..) with arguments: [10, UNDER_MAINTENANCE, ]
2025-12-01 11:21:33 [http-nio-8082-exec-3] INFO  c.p.p.u.service.Impl.UnitServiceImpl - Updating occupancy status for unit ID: 10 to UNDER_MAINTENANCE
2025-12-01 11:21:33 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.id=?
2025-12-01 11:21:33 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.updateFloorOccupancyStats(..) with arguments: [6]
2025-12-01 11:21:33 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:21:33 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(f1_0.id) 
    from
        floors f1_0 
    where
        f1_0.property_id=?
2025-12-01 11:21:33 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:21:33 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.updateFloorOccupancyStats(..) with result: null
2025-12-01 11:21:33 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.updateOccupancyStatus(..) with result: UnitDTO(id=10, name=u3, size=null, rentType=null, ratePerSqm=null, monthlyRent=999.0, occupancyStatus=UNDER_MAINTENANCE, tenant=null, tenantEmail=null, tenantPhone=null, leaseStartDate=null, leaseEndDate=null, propertyId=null, floorId=null)
2025-12-01 11:21:33 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    update
        units 
    set
        deleted=?,
        floor_id=?,
        last_modified_by=?,
        last_modified_date=?,
        lease_end_date=?,
        lease_start_date=?,
        monthly_rent=?,
        name=?,
        occupancy_status=?,
        property_id=?,
        rate_per_sqm=?,
        rent_type=?,
        size=?,
        tenant=?,
        tenant_email=?,
        tenant_phone=?,
        version=? 
    where
        id=? 
        and version=?
2025-12-01 11:21:33 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    update
        floors 
    set
        deleted=?,
        last_modified_by=?,
        last_modified_date=?,
        name=?,
        number_of_units=?,
        occupied_units=?,
        property_id=?,
        vacant_units=?,
        version=? 
    where
        id=? 
        and version=?
2025-12-01 11:21:33 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?floorId=6&page=0&size=6
2025-12-01 11:21:33 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?floorId=6&page=0&size=6
2025-12-01 11:21:33 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:21:33 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:21:33 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, 6, null, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 11:21:33 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:21:33 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:21:33 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 11:21:33 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 11:21:46 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=2&page=0&size=6
2025-12-01 11:21:46 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/10/occupancy-stats
2025-12-01 11:21:46 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/9/occupancy-stats
2025-12-01 11:21:46 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/6/occupancy-stats
2025-12-01 11:21:46 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=2&page=0&size=6
2025-12-01 11:21:46 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/9/occupancy-stats
2025-12-01 11:21:46 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/10/occupancy-stats
2025-12-01 11:21:46 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:21:46 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:21:46 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:21:46 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:21:46 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:21:46 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [10]
2025-12-01 11:21:46 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [9]
2025-12-01 11:21:46 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:21:46 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/6/occupancy-stats
2025-12-01 11:21:46 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:21:46 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:21:46 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:21:46 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [2, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 11:21:46 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [6]
2025-12-01 11:21:46 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:21:46 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:21:46 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:21:46 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:21:46 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:21:46 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:21:46 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:21:46 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 11:21:46 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:21:46 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 11:21:46 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 11:21:46 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=5, occupiedUnits=1, vacantUnits=2, reservedUnits=1, notAvailableUnits=0, underMaintenanceUnits=1, occupancyRate=20.0, vacancyRate=40.0, reservedRate=20.0, notAvailableRate=0.0, underMaintenanceRate=20.0)
2025-12-01 11:21:46 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:21:46 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:21:46 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:21:46 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 11:21:52 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /properties/search?page=0&size=9
2025-12-01 11:21:52 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/count
2025-12-01 11:21:52 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/by-manager/1?page=0&size=9
2025-12-01 11:21:52 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=9
2025-12-01 11:21:52 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /properties/search?page=0&size=9
2025-12-01 11:21:52 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.searchPropertiesByFilter(com.proveritus.propertyservice.property.dto.PropertyFilterDTO,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:21:52 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.searchPropertiesByFilter(com.proveritus.propertyservice.property.dto.PropertyFilterDTO,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:21:52 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.searchProperties(..) with arguments: [com.proveritus.propertyservice.property.dto.PropertyFilterDTO@1ffe475d, Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 11:21:52 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/count
2025-12-01 11:21:52 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesCount(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:21:52 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesCount(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:21:52 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public long com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getTotalPropertiesCount(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 11:21:52 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        1=1 
    limit
        ?, ?
2025-12-01 11:21:52 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=9
2025-12-01 11:21:52 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public long com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getTotalPropertiesCount(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 11:21:52 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:21:52 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getTotalPropertiesCount() with arguments: []
2025-12-01 11:21:52 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:21:52 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        properties p1_0
2025-12-01 11:21:52 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 11:21:52 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getTotalPropertiesCount() with result: 4
2025-12-01 11:21:52 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 11:21:52 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/by-manager/1?page=0&size=9
2025-12-01 11:21:52 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesByManager(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:21:52 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesByManager(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:21:52 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getPropertiesByManager(..) with arguments: [1, Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 11:21:52 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.managed_by=? 
    limit
        ?
2025-12-01 11:21:52 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getPropertiesByManager(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 11:21:52 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.searchProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 11:21:52 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 11:21:56 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/8/occupancy-stats
2025-12-01 11:21:56 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/2/occupancy-stats
2025-12-01 11:21:56 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/1
2025-12-01 11:21:56 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/5/occupancy-stats
2025-12-01 11:21:56 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=1&page=0&size=6
2025-12-01 11:21:56 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/1/occupancy-stats
2025-12-01 11:21:56 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/8/occupancy-stats
2025-12-01 11:21:56 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:21:56 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:21:56 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [8]
2025-12-01 11:21:56 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:21:56 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/1
2025-12-01 11:21:56 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyById(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:21:56 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyById(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:21:56 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:21:56 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 11:21:56 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/2/occupancy-stats
2025-12-01 11:21:56 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:21:56 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=1&page=0&size=6
2025-12-01 11:21:56 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:21:56 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [2]
2025-12-01 11:21:56 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:21:56 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:21:56 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:21:56 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [1, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 11:21:56 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:21:56 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:21:56 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:21:56 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/5/occupancy-stats
2025-12-01 11:21:56 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:21:56 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/1/occupancy-stats
2025-12-01 11:21:56 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:21:56 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:21:56 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 11:21:56 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 11:21:56 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:21:56 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:21:56 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/1/stats
2025-12-01 11:21:56 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:21:56 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:21:56 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [1]
2025-12-01 11:21:56 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [5]
2025-12-01 11:21:56 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:21:56 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:21:56 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:21:56 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:21:56 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:21:56 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:21:56 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units/property/1/income
2025-12-01 11:21:56 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units/property/1/count
2025-12-01 11:21:56 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=1, occupiedUnits=1, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=100.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 11:21:56 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 11:21:56 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 11:21:56 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/1/stats
2025-12-01 11:21:56 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:21:56 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:21:56 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units/property/1/income
2025-12-01 11:21:56 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.calculateRentalIncome(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:21:56 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.calculateRentalIncome(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:21:56 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.calculatePotentialRentalIncome(..) with arguments: [1]
2025-12-01 11:21:56 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units/property/1/count
2025-12-01 11:21:56 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:21:56 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.countUnitsByProperty(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:21:56 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.countUnitsByProperty(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:21:56 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.countUnitsByPropertyId(..) with arguments: [1]
2025-12-01 11:21:56 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:21:56 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        coalesce(sum(u1_0.monthly_rent), 0) 
    from
        units u1_0 
    where
        u1_0.property_id=? 
        and u1_0.occupancy_status='OCCUPIED'
2025-12-01 11:21:56 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        u1_0.property_id=?
2025-12-01 11:21:56 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.countUnitsByPropertyId(..) with result: 1
2025-12-01 11:21:56 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.calculatePotentialRentalIncome(..) with result: 245.0
2025-12-01 11:22:13 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /floors/2/refresh-occupancy
2025-12-01 11:22:13 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /floors/2/refresh-occupancy
2025-12-01 11:22:13 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.refreshFloorOccupancy(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:22:13 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.refreshFloorOccupancy(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:22:13 [http-nio-8082-exec-8] INFO  c.p.p.floor.api.FloorRestController - Refreshing occupancy stats for floor ID: 2
2025-12-01 11:22:13 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.updateFloorOccupancyStats(..) with arguments: [2]
2025-12-01 11:22:13 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:22:13 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(f1_0.id) 
    from
        floors f1_0 
    where
        f1_0.property_id=?
2025-12-01 11:22:13 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:22:13 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.updateFloorOccupancyStats(..) with result: null
2025-12-01 11:22:13 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    update
        floors 
    set
        deleted=?,
        last_modified_by=?,
        last_modified_date=?,
        name=?,
        number_of_units=?,
        occupied_units=?,
        property_id=?,
        vacant_units=?,
        version=? 
    where
        id=? 
        and version=?
2025-12-01 11:22:14 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /floors/2/refresh-occupancy
2025-12-01 11:22:14 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /floors/2/refresh-occupancy
2025-12-01 11:22:14 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.refreshFloorOccupancy(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:22:14 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.refreshFloorOccupancy(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:22:14 [http-nio-8082-exec-2] INFO  c.p.p.floor.api.FloorRestController - Refreshing occupancy stats for floor ID: 2
2025-12-01 11:22:14 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.updateFloorOccupancyStats(..) with arguments: [2]
2025-12-01 11:22:14 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:22:14 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(f1_0.id) 
    from
        floors f1_0 
    where
        f1_0.property_id=?
2025-12-01 11:22:14 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:22:14 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.updateFloorOccupancyStats(..) with result: null
2025-12-01 11:22:17 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=1&size=0
2025-12-01 11:22:17 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?floorId=1&page=0&size=6
2025-12-01 11:22:17 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=1&size=0
2025-12-01 11:22:17 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:22:17 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:22:17 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [1]
2025-12-01 11:22:17 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?floorId=1&page=0&size=6
2025-12-01 11:22:17 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:22:17 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:22:17 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:22:17 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:22:17 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:22:17 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, 1, null, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 11:22:17 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:22:17 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:22:17 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=?
2025-12-01 11:22:17 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 11:22:17 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:22:17 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 11:22:17 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:22:17 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:22:17 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:22:17 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: [com.proveritus.propertyservice.floor.dto.FloorDTO@3ba8179d, com.proveritus.propertyservice.floor.dto.FloorDTO@313678b8, com.proveritus.propertyservice.floor.dto.FloorDTO@436846a7, com.proveritus.propertyservice.floor.dto.FloorDTO@227decb4]
2025-12-01 11:22:39 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /units
2025-12-01 11:22:39 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /units
2025-12-01 11:22:39 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.createUnit(com.proveritus.propertyservice.unit.dto.UnitDTO); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:22:39 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.createUnit(com.proveritus.propertyservice.unit.dto.UnitDTO); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:22:39 [http-nio-8082-exec-4] INFO  c.p.p.unit.api.UnitRestController - Creating unit: A1
2025-12-01 11:22:39 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.createUnit(..) with arguments: [UnitDTO(id=null, name=A1, size=null, rentType=null, ratePerSqm=null, monthlyRent=444.0, occupancyStatus=AVAILABLE, tenant=, tenantEmail=null, tenantPhone=null, leaseStartDate=null, leaseEndDate=null, propertyId=1, floorId=2)]
2025-12-01 11:22:39 [http-nio-8082-exec-4] INFO  c.p.p.u.service.Impl.UnitServiceImpl - Creating new unit: A1
2025-12-01 11:22:39 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.name=? 
        and u1_0.property_id=?
2025-12-01 11:22:39 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:22:39 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:22:39 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:22:39 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:22:39 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:22:39 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:22:39 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        units
        (created_by, created_date, deleted, floor_id, last_modified_by, last_modified_date, lease_end_date, lease_start_date, monthly_rent, name, occupancy_status, property_id, rate_per_sqm, rent_type, size, tenant, tenant_email, tenant_phone, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-01 11:22:39 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.updateFloorOccupancyStats(..) with arguments: [2]
2025-12-01 11:22:39 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(f1_0.id) 
    from
        floors f1_0 
    where
        f1_0.property_id=?
2025-12-01 11:22:39 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:22:39 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.updateFloorOccupancyStats(..) with result: null
2025-12-01 11:22:39 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.createUnit(..) with result: UnitDTO(id=11, name=A1, size=null, rentType=null, ratePerSqm=null, monthlyRent=444.0, occupancyStatus=AVAILABLE, tenant=, tenantEmail=null, tenantPhone=null, leaseStartDate=null, leaseEndDate=null, propertyId=null, floorId=null)
2025-12-01 11:22:39 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?floorId=1&page=0&size=6
2025-12-01 11:22:39 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?floorId=1&page=0&size=6
2025-12-01 11:22:39 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:22:39 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:22:39 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, 1, null, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 11:22:39 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:22:39 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:22:39 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 11:22:39 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 11:22:52 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=1&size=0
2025-12-01 11:22:52 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?floorId=1&page=0&size=6
2025-12-01 11:22:53 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=1&size=0
2025-12-01 11:22:53 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:22:53 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?floorId=1&page=0&size=6
2025-12-01 11:22:53 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:22:53 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:22:53 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [1]
2025-12-01 11:22:53 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:22:53 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:22:53 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, 1, null, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 11:22:53 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:22:53 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:22:53 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:22:53 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:22:53 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 11:22:53 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=?
2025-12-01 11:22:53 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 11:22:53 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:22:53 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:22:53 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:22:53 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:22:53 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: [com.proveritus.propertyservice.floor.dto.FloorDTO@7d8ff095, com.proveritus.propertyservice.floor.dto.FloorDTO@2fd2e6c3, com.proveritus.propertyservice.floor.dto.FloorDTO@6adf8d44, com.proveritus.propertyservice.floor.dto.FloorDTO@2a6f950a]
2025-12-01 11:23:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 11:24:07 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?floorId=1&page=0&size=6
2025-12-01 11:24:07 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=1&size=0
2025-12-01 11:24:07 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/1
2025-12-01 11:24:07 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units/property/1/income
2025-12-01 11:24:07 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units/property/1/count
2025-12-01 11:24:07 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/1/stats
2025-12-01 11:24:07 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?floorId=1&page=0&size=6
2025-12-01 11:24:07 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:24:07 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:24:07 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, 1, null, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 11:24:07 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:24:07 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:24:07 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 11:24:07 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 11:24:07 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=1&size=0
2025-12-01 11:24:07 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/1
2025-12-01 11:24:07 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyById(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:24:07 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyById(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:24:07 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:24:07 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:24:07 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [1]
2025-12-01 11:24:07 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:24:07 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:24:07 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:24:07 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units/property/1/income
2025-12-01 11:24:07 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=?
2025-12-01 11:24:07 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.calculateRentalIncome(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:24:07 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.calculateRentalIncome(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:24:07 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/1/stats
2025-12-01 11:24:07 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:24:07 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:24:07 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.calculatePotentialRentalIncome(..) with arguments: [1]
2025-12-01 11:24:07 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:24:07 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:24:07 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units/property/1/count
2025-12-01 11:24:07 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:24:07 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.countUnitsByProperty(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:24:07 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.countUnitsByProperty(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:24:07 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:24:07 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.countUnitsByPropertyId(..) with arguments: [1]
2025-12-01 11:24:07 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:24:07 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        coalesce(sum(u1_0.monthly_rent), 0) 
    from
        units u1_0 
    where
        u1_0.property_id=? 
        and u1_0.occupancy_status='OCCUPIED'
2025-12-01 11:24:07 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:24:07 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.calculatePotentialRentalIncome(..) with result: 245.0
2025-12-01 11:24:07 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: [com.proveritus.propertyservice.floor.dto.FloorDTO@c78d351, com.proveritus.propertyservice.floor.dto.FloorDTO@4c643805, com.proveritus.propertyservice.floor.dto.FloorDTO@5e092ded, com.proveritus.propertyservice.floor.dto.FloorDTO@351dbf5e]
2025-12-01 11:24:07 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        u1_0.property_id=?
2025-12-01 11:24:07 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.countUnitsByPropertyId(..) with result: 2
2025-12-01 11:28:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 11:33:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 11:38:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 11:41:46 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units/property/1/count
2025-12-01 11:41:46 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units/property/1/income
2025-12-01 11:41:46 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/1/stats
2025-12-01 11:41:46 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/1
2025-12-01 11:41:46 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units/property/1/income
2025-12-01 11:41:46 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.calculateRentalIncome(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:41:46 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.calculateRentalIncome(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:41:46 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.calculatePotentialRentalIncome(..) with arguments: [1]
2025-12-01 11:41:46 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units/property/1/count
2025-12-01 11:41:46 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:41:46 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.countUnitsByProperty(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:41:46 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.countUnitsByProperty(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:41:46 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        coalesce(sum(u1_0.monthly_rent), 0) 
    from
        units u1_0 
    where
        u1_0.property_id=? 
        and u1_0.occupancy_status='OCCUPIED'
2025-12-01 11:41:46 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.calculatePotentialRentalIncome(..) with result: 245.0
2025-12-01 11:41:46 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/1
2025-12-01 11:41:46 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyById(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:41:46 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyById(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:41:46 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/1/stats
2025-12-01 11:41:46 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getPropertyById(..) with arguments: [1]
2025-12-01 11:41:46 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:41:46 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:41:46 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.countUnitsByPropertyId(..) with arguments: [1]
2025-12-01 11:41:46 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:41:46 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:41:46 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getPropertyStats(..) with arguments: [1]
2025-12-01 11:41:46 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        (select
            count(f1_0.id) 
        from
            floors f1_0 
        where
            f1_0.property_id=p1_0.id),
        (select
            count(u2_0.id) 
        from
            units u2_0 
        where
            u2_0.property_id=p1_0.id),
        coalesce(sum(case 
            when u1_0.occupancy_status='OCCUPIED' 
                then 1 
            else 0 
    end), 0),
    coalesce(sum(case 
        when u1_0.occupancy_status='AVAILABLE' 
            then 1 
        else 0 
end), 0),
coalesce(sum(case 
    when u1_0.occupancy_status='RESERVED' 
        then 1 
    else 0 
end), 0),
coalesce(sum(case 
    when u1_0.occupancy_status='NOT_AVAILABLE' 
        then 1 
    else 0 
end), 0),
coalesce(sum(case 
    when u1_0.occupancy_status='UNDER_MAINTENANCE' 
        then 1 
    else 0 
end), 0),
case 
    when (select
        count(u3_0.id) from
            units u3_0 
        where
            u3_0.property_id=p1_0.id)>0 
            then ((coalesce(sum(case 
                when u1_0.occupancy_status='OCCUPIED' 
                    then 1 
                else 0 
        end), 0)*100.0)/(select
            count(u4_0.id) 
        from
            units u4_0 
        where
            u4_0.property_id=p1_0.id)) 
    else 0.0 
end,
case 
    when (select
        count(u5_0.id) from
            units u5_0 
        where
            u5_0.property_id=p1_0.id)>0 
            then ((coalesce(sum(case 
                when u1_0.occupancy_status='AVAILABLE' 
                    then 1 
                else 0 
        end), 0)*100.0)/(select
            count(u6_0.id) 
        from
            units u6_0 
        where
            u6_0.property_id=p1_0.id)) 
    else 0.0 
end,
coalesce(sum(case 
    when u1_0.occupancy_status='OCCUPIED' 
        then u1_0.monthly_rent 
    else 0 
end), 0.0),
coalesce(sum(u1_0.monthly_rent), 0.0) 
from
    properties p1_0 
left join
    units u1_0 
        on u1_0.property_id=p1_0.id 
where
    p1_0.id=? 
group by
    p1_0.id
2025-12-01 11:41:46 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        u1_0.property_id=?
2025-12-01 11:41:46 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.countUnitsByPropertyId(..) with result: 2
2025-12-01 11:41:46 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getPropertyStats(..) with result: PropertyStatsDTO(totalFloors=4, totalUnits=2, occupiedUnits=1, vacantUnits=1, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=50.0, vacancyRate=50.0, totalRentalIncome=245.0, potentialRentalIncome=689.0)
2025-12-01 11:41:46 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getPropertyById(..) with result: com.proveritus.propertyservice.property.dto.PropertyDTO@4a75f019
2025-12-01 11:41:46 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=1&page=0&size=6
2025-12-01 11:41:46 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=1&page=0&size=6
2025-12-01 11:41:46 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:41:46 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:41:46 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [1, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 11:41:46 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:41:46 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:41:46 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:41:46 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 11:41:46 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:41:46 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:41:46 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:41:46 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:41:46 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 11:41:46 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/8/occupancy-stats
2025-12-01 11:41:46 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/2/occupancy-stats
2025-12-01 11:41:46 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/1/occupancy-stats
2025-12-01 11:41:46 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/5/occupancy-stats
2025-12-01 11:41:46 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/5/occupancy-stats
2025-12-01 11:41:46 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:41:46 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:41:46 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [5]
2025-12-01 11:41:46 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:41:46 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/2/occupancy-stats
2025-12-01 11:41:46 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:41:46 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 11:41:46 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:41:46 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:41:46 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [2]
2025-12-01 11:41:46 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/8/occupancy-stats
2025-12-01 11:41:46 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/1/occupancy-stats
2025-12-01 11:41:46 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:41:46 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:41:46 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:41:46 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [8]
2025-12-01 11:41:46 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:41:46 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:41:46 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:41:46 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 11:41:46 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=1, occupiedUnits=0, vacantUnits=1, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=100.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 11:41:46 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:41:46 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:41:46 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [1]
2025-12-01 11:41:46 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:41:46 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:41:46 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=1, occupiedUnits=1, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=100.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 11:43:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 11:48:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 11:52:42 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units/property/1/count
2025-12-01 11:52:42 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units/property/1/income
2025-12-01 11:52:42 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/1
2025-12-01 11:52:42 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/1/stats
2025-12-01 11:52:42 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=1&page=0&size=6
2025-12-01 11:52:42 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/2/occupancy-stats
2025-12-01 11:52:42 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/1
2025-12-01 11:52:42 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyById(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:52:42 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units/property/1/income
2025-12-01 11:52:42 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyById(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:52:42 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/1/stats
2025-12-01 11:52:42 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.calculateRentalIncome(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:52:42 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:52:42 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:52:42 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.calculateRentalIncome(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:52:42 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.calculatePotentialRentalIncome(..) with arguments: [1]
2025-12-01 11:52:42 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getPropertyById(..) with arguments: [1]
2025-12-01 11:52:42 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:52:42 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:52:42 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getPropertyStats(..) with arguments: [1]
2025-12-01 11:52:42 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        coalesce(sum(u1_0.monthly_rent), 0) 
    from
        units u1_0 
    where
        u1_0.property_id=? 
        and u1_0.occupancy_status='OCCUPIED'
2025-12-01 11:52:42 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=1&page=0&size=6
2025-12-01 11:52:42 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        (select
            count(f1_0.id) 
        from
            floors f1_0 
        where
            f1_0.property_id=p1_0.id),
        (select
            count(u2_0.id) 
        from
            units u2_0 
        where
            u2_0.property_id=p1_0.id),
        coalesce(sum(case 
            when u1_0.occupancy_status='OCCUPIED' 
                then 1 
            else 0 
    end), 0),
    coalesce(sum(case 
        when u1_0.occupancy_status='AVAILABLE' 
            then 1 
        else 0 
end), 0),
coalesce(sum(case 
    when u1_0.occupancy_status='RESERVED' 
        then 1 
    else 0 
end), 0),
coalesce(sum(case 
    when u1_0.occupancy_status='NOT_AVAILABLE' 
        then 1 
    else 0 
end), 0),
coalesce(sum(case 
    when u1_0.occupancy_status='UNDER_MAINTENANCE' 
        then 1 
    else 0 
end), 0),
case 
    when (select
        count(u3_0.id) from
            units u3_0 
        where
            u3_0.property_id=p1_0.id)>0 
            then ((coalesce(sum(case 
                when u1_0.occupancy_status='OCCUPIED' 
                    then 1 
                else 0 
        end), 0)*100.0)/(select
            count(u4_0.id) 
        from
            units u4_0 
        where
            u4_0.property_id=p1_0.id)) 
    else 0.0 
end,
case 
    when (select
        count(u5_0.id) from
            units u5_0 
        where
            u5_0.property_id=p1_0.id)>0 
            then ((coalesce(sum(case 
                when u1_0.occupancy_status='AVAILABLE' 
                    then 1 
                else 0 
        end), 0)*100.0)/(select
            count(u6_0.id) 
        from
            units u6_0 
        where
            u6_0.property_id=p1_0.id)) 
    else 0.0 
end,
coalesce(sum(case 
    when u1_0.occupancy_status='OCCUPIED' 
        then u1_0.monthly_rent 
    else 0 
end), 0.0),
coalesce(sum(u1_0.monthly_rent), 0.0) 
from
    properties p1_0 
left join
    units u1_0 
        on u1_0.property_id=p1_0.id 
where
    p1_0.id=? 
group by
    p1_0.id
2025-12-01 11:52:42 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units/property/1/count
2025-12-01 11:52:42 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/2/occupancy-stats
2025-12-01 11:52:42 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:52:42 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.countUnitsByProperty(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:52:42 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.calculatePotentialRentalIncome(..) with result: 245.0
2025-12-01 11:52:42 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:52:42 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:52:42 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.countUnitsByProperty(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:52:42 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:52:42 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [1, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 11:52:42 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:52:42 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getPropertyStats(..) with result: PropertyStatsDTO(totalFloors=4, totalUnits=2, occupiedUnits=1, vacantUnits=1, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=50.0, vacancyRate=50.0, totalRentalIncome=245.0, potentialRentalIncome=689.0)
2025-12-01 11:52:42 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.countUnitsByPropertyId(..) with arguments: [1]
2025-12-01 11:52:42 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [2]
2025-12-01 11:52:42 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 11:52:42 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:52:42 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:52:42 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:52:42 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        u1_0.property_id=?
2025-12-01 11:52:42 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:52:42 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.countUnitsByPropertyId(..) with result: 2
2025-12-01 11:52:42 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=1, occupiedUnits=0, vacantUnits=1, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=100.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 11:52:42 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 11:52:42 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:52:42 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getPropertyById(..) with result: com.proveritus.propertyservice.property.dto.PropertyDTO@1db60e2
2025-12-01 11:52:42 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:52:42 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/1/occupancy-stats
2025-12-01 11:52:42 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/8/occupancy-stats
2025-12-01 11:52:42 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:52:42 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:52:42 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 11:52:42 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/5/occupancy-stats
2025-12-01 11:52:42 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/8/occupancy-stats
2025-12-01 11:52:42 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:52:42 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:52:42 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [8]
2025-12-01 11:52:42 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/1/occupancy-stats
2025-12-01 11:52:42 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:52:42 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:52:42 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:52:42 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [1]
2025-12-01 11:52:42 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:52:42 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:52:42 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 11:52:42 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/5/occupancy-stats
2025-12-01 11:52:42 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:52:42 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 11:52:42 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:52:42 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [5]
2025-12-01 11:52:42 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 11:52:42 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=1, occupiedUnits=1, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=100.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 11:52:42 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 11:52:42 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 11:53:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 11:54:59 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?page=0&size=9
2025-12-01 11:54:59 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 11:54:59 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 11:54:59 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 11:54:59 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?page=0&size=9
2025-12-01 11:54:59 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 11:54:59 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:54:59 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:54:59 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 11:54:59 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:54:59 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, null, null, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 11:54:59 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 11:54:59 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 11:54:59 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 11:54:59 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 11:54:59 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 11:54:59 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        )
2025-12-01 11:54:59 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 2 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 11:54:59 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 11:55:00 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 11:55:00 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 11:55:02 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 11:55:02 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 11:55:06 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 11:55:06 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 11:55:36 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 11:55:36 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 11:55:36 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 11:55:36 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:55:36 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 11:55:36 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:55:36 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 11:55:36 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 11:55:36 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 11:55:37 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 11:55:37 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 11:55:39 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 11:55:39 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 11:55:43 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 11:55:43 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 11:56:14 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 11:56:14 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 11:56:14 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 11:56:14 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:56:14 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 11:56:14 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 11:56:14 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 11:56:14 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 11:56:14 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 11:56:15 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 11:56:15 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 11:56:17 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 11:56:17 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 11:56:21 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 11:56:21 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 11:58:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 11:59:33 [DiscoveryClient-HeartbeatExecutor-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_PROPERTY-SERVICE/tinashe:property-service:8082 - Re-registering apps/PROPERTY-SERVICE
2025-12-01 11:59:33 [DiscoveryClient-HeartbeatExecutor-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_PROPERTY-SERVICE/tinashe:property-service:8082: registering service...
2025-12-01 11:59:33 [DiscoveryClient-HeartbeatExecutor-0] INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_PROPERTY-SERVICE/tinashe:property-service:8082 - registration status: 204
2025-12-01 12:00:03 [DiscoveryClient-CacheRefreshExecutor-0] INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2025-12-01 12:00:03 [DiscoveryClient-CacheRefreshExecutor-0] INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2025-12-01 12:00:03 [DiscoveryClient-CacheRefreshExecutor-0] INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2025-12-01 12:00:03 [DiscoveryClient-CacheRefreshExecutor-0] INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2025-12-01 12:00:03 [DiscoveryClient-CacheRefreshExecutor-0] INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2025-12-01 12:00:03 [DiscoveryClient-CacheRefreshExecutor-0] INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: false
2025-12-01 12:00:03 [DiscoveryClient-CacheRefreshExecutor-0] INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2025-12-01 12:00:03 [DiscoveryClient-CacheRefreshExecutor-0] INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2025-12-01 12:03:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 12:03:28 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?page=0&size=5
2025-12-01 12:03:28 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/stats/system-wide
2025-12-01 12:03:28 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:03:28 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:03:28 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/stats/system-wide
2025-12-01 12:03:28 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:03:28 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:03:28 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 12:03:28 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 12:03:28 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getSystemWideStats() with arguments: []
2025-12-01 12:03:28 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        properties p1_0
2025-12-01 12:03:28 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?page=0&size=5
2025-12-01 12:03:28 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 12:03:28 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        units u1_0
2025-12-01 12:03:28 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 12:03:28 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, null, null, Page request [number: 0, size 5, sort: name: ASC]]
2025-12-01 12:03:28 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 12:03:28 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 12:03:28 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        u1_0.occupancy_status=?
2025-12-01 12:03:28 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 12:03:28 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        coalesce(sum(u1_0.monthly_rent), 0) 
    from
        units u1_0 
    where
        u1_0.occupancy_status='OCCUPIED'
2025-12-01 12:03:28 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        coalesce(sum(u1_0.monthly_rent), 0) 
    from
        units u1_0
2025-12-01 12:03:28 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        )
2025-12-01 12:03:28 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getSystemWideStats() with result: SystemStatsDTO(totalProperties=4, totalUnits=11, occupiedUnits=4, overallOccupancyRate=36.36363636363637, totalActualIncome=8904.0, totalPotentialIncome=27813.0)
2025-12-01 12:03:28 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 3 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 12:03:29 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:03:29 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:03:31 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:03:31 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:03:35 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:03:35 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:03:50 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=9
2025-12-01 12:03:50 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /properties/search?page=0&size=9
2025-12-01 12:03:50 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/count
2025-12-01 12:03:50 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /properties/search?page=0&size=9
2025-12-01 12:03:50 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.searchPropertiesByFilter(com.proveritus.propertyservice.property.dto.PropertyFilterDTO,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:03:50 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.searchPropertiesByFilter(com.proveritus.propertyservice.property.dto.PropertyFilterDTO,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:03:50 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.searchProperties(..) with arguments: [com.proveritus.propertyservice.property.dto.PropertyFilterDTO@2706b184, Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 12:03:50 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        1=1 
    limit
        ?, ?
2025-12-01 12:03:50 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=9
2025-12-01 12:03:50 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:03:50 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:03:50 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 12:03:50 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 12:03:50 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/count
2025-12-01 12:03:50 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesCount(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:03:50 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesCount(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:03:50 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public long com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getTotalPropertiesCount(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 12:03:50 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public long com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getTotalPropertiesCount(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 12:03:50 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getTotalPropertiesCount() with arguments: []
2025-12-01 12:03:50 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        properties p1_0
2025-12-01 12:03:50 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getTotalPropertiesCount() with result: 4
2025-12-01 12:03:50 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/by-manager/1?page=0&size=9
2025-12-01 12:03:50 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/by-manager/1?page=0&size=9
2025-12-01 12:03:50 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesByManager(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:03:50 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesByManager(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:03:50 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getPropertiesByManager(..) with arguments: [1, Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 12:03:50 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.managed_by=? 
    limit
        ?
2025-12-01 12:03:50 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.searchProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 12:03:50 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 12:03:50 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getPropertiesByManager(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 12:03:53 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/stats/system-wide
2025-12-01 12:03:53 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:03:53 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?page=0&size=5
2025-12-01 12:03:53 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/stats/system-wide
2025-12-01 12:03:53 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:03:53 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:03:53 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 12:03:53 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 12:03:53 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:03:53 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?page=0&size=5
2025-12-01 12:03:53 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 12:03:53 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 12:03:53 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, null, null, Page request [number: 0, size 5, sort: name: ASC]]
2025-12-01 12:03:53 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 12:03:53 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 12:03:53 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 12:03:53 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        )
2025-12-01 12:03:53 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 3 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 12:03:54 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:03:54 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:03:56 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:03:56 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:04:01 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:04:01 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:04:59 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 12:04:59 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 12:04:59 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 12:04:59 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:04:59 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:04:59 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 12:04:59 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 12:04:59 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 12:05:00 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 12:05:00 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 12:05:00 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 12:05:02 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 12:05:02 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 12:05:06 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 12:05:07 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 12:05:08 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/count
2025-12-01 12:05:08 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /properties/search?page=0&size=9
2025-12-01 12:05:08 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=9
2025-12-01 12:05:08 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/by-manager/1?page=0&size=9
2025-12-01 12:05:08 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/count
2025-12-01 12:05:08 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesCount(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:05:08 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /properties/search?page=0&size=9
2025-12-01 12:05:08 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesCount(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:05:08 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public long com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getTotalPropertiesCount(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 12:05:08 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public long com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getTotalPropertiesCount(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 12:05:08 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getTotalPropertiesCount() with arguments: []
2025-12-01 12:05:08 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.searchPropertiesByFilter(com.proveritus.propertyservice.property.dto.PropertyFilterDTO,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:05:08 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        properties p1_0
2025-12-01 12:05:08 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.searchPropertiesByFilter(com.proveritus.propertyservice.property.dto.PropertyFilterDTO,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:05:08 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getTotalPropertiesCount() with result: 4
2025-12-01 12:05:08 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.searchProperties(..) with arguments: [com.proveritus.propertyservice.property.dto.PropertyFilterDTO@7a649284, Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 12:05:08 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        1=1 
    limit
        ?, ?
2025-12-01 12:05:08 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/by-manager/1?page=0&size=9
2025-12-01 12:05:08 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesByManager(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:05:08 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=9
2025-12-01 12:05:08 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesByManager(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:05:08 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:05:08 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getPropertiesByManager(..) with arguments: [1, Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 12:05:08 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:05:08 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 12:05:08 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.managed_by=? 
    limit
        ?
2025-12-01 12:05:08 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 12:05:08 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getPropertiesByManager(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 12:05:08 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 12:05:08 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.searchProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 12:05:14 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:05:14 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?page=0&size=5
2025-12-01 12:05:14 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/stats/system-wide
2025-12-01 12:05:14 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/stats/system-wide
2025-12-01 12:05:14 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?page=0&size=5
2025-12-01 12:05:14 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 12:05:14 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 12:05:14 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:05:14 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:05:14 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:05:14 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 12:05:14 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, null, null, Page request [number: 0, size 5, sort: name: ASC]]
2025-12-01 12:05:14 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 12:05:14 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 12:05:14 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 12:05:14 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 12:05:14 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        )
2025-12-01 12:05:14 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 3 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 12:05:15 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:05:15 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:05:17 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:05:17 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:05:20 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?page=0&size=9
2025-12-01 12:05:20 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 12:05:20 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 12:05:20 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 12:05:20 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:05:20 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:05:20 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 12:05:20 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?page=0&size=9
2025-12-01 12:05:20 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 12:05:20 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 12:05:20 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 12:05:20 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 12:05:20 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, null, null, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 12:05:20 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 12:05:20 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 12:05:20 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 12:05:20 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        )
2025-12-01 12:05:20 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 2 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 12:05:20 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 12:05:21 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 12:05:21 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 12:05:23 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 12:05:23 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 12:05:27 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 12:05:27 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 12:07:43 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?page=0&size=9
2025-12-01 12:07:43 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 12:07:43 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 12:07:43 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?page=0&size=9
2025-12-01 12:07:43 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 12:07:43 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 12:07:43 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, null, null, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 12:07:43 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 12:07:43 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 12:07:43 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 12:07:43 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 12:07:43 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 12:07:43 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        )
2025-12-01 12:07:43 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:07:43 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:07:43 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 12:07:43 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 12:07:43 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 2 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 12:07:43 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 12:07:44 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 12:07:44 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 12:07:46 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 12:07:46 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 12:07:50 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 12:07:50 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 12:07:58 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:07:58 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?page=0&size=5
2025-12-01 12:07:58 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/stats/system-wide
2025-12-01 12:07:58 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?page=0&size=5
2025-12-01 12:07:58 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:07:58 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 12:07:58 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 12:07:58 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, null, null, Page request [number: 0, size 5, sort: name: ASC]]
2025-12-01 12:07:58 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 12:07:58 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 12:07:58 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/stats/system-wide
2025-12-01 12:07:58 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:07:58 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:07:58 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 12:07:58 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 12:07:58 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 12:07:58 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        )
2025-12-01 12:07:58 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 3 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 12:07:59 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:07:59 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:08:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 12:08:01 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:08:01 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:08:05 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:08:05 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:10:07 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=9
2025-12-01 12:10:07 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/count
2025-12-01 12:10:07 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /properties/search?page=0&size=9
2025-12-01 12:10:07 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=9
2025-12-01 12:10:07 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:10:07 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:10:07 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 12:10:07 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 12:10:07 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /properties/search?page=0&size=9
2025-12-01 12:10:07 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.searchPropertiesByFilter(com.proveritus.propertyservice.property.dto.PropertyFilterDTO,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:10:07 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.searchPropertiesByFilter(com.proveritus.propertyservice.property.dto.PropertyFilterDTO,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:10:07 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.searchProperties(..) with arguments: [com.proveritus.propertyservice.property.dto.PropertyFilterDTO@32b7c379, Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 12:10:07 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/count
2025-12-01 12:10:07 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesCount(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:10:07 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        1=1 
    limit
        ?, ?
2025-12-01 12:10:07 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesCount(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:10:07 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public long com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getTotalPropertiesCount(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 12:10:07 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public long com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getTotalPropertiesCount(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 12:10:07 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getTotalPropertiesCount() with arguments: []
2025-12-01 12:10:07 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        properties p1_0
2025-12-01 12:10:07 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getTotalPropertiesCount() with result: 4
2025-12-01 12:10:07 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/by-manager/1?page=0&size=9
2025-12-01 12:10:07 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/by-manager/1?page=0&size=9
2025-12-01 12:10:07 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesByManager(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:10:07 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesByManager(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:10:07 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getPropertiesByManager(..) with arguments: [1, Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 12:10:07 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.managed_by=? 
    limit
        ?
2025-12-01 12:10:07 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 12:10:07 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.searchProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 12:10:07 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getPropertiesByManager(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 12:13:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 12:18:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 12:23:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 12:28:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 12:30:05 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:30:05 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?page=0&size=5
2025-12-01 12:30:05 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/stats/system-wide
2025-12-01 12:30:05 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:30:05 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?page=0&size=5
2025-12-01 12:30:05 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 12:30:05 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 12:30:05 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/stats/system-wide
2025-12-01 12:30:05 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:30:05 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:30:05 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 12:30:05 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 12:30:05 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getSystemWideStats() with arguments: []
2025-12-01 12:30:05 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, null, null, Page request [number: 0, size 5, sort: name: ASC]]
2025-12-01 12:30:05 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 12:30:05 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 12:30:05 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        properties p1_0
2025-12-01 12:30:05 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 12:30:05 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        )
2025-12-01 12:30:05 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        units u1_0
2025-12-01 12:30:05 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 3 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 12:30:05 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        u1_0.occupancy_status=?
2025-12-01 12:30:05 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        coalesce(sum(u1_0.monthly_rent), 0) 
    from
        units u1_0 
    where
        u1_0.occupancy_status='OCCUPIED'
2025-12-01 12:30:05 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        coalesce(sum(u1_0.monthly_rent), 0) 
    from
        units u1_0
2025-12-01 12:30:05 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getSystemWideStats() with result: SystemStatsDTO(totalProperties=4, totalUnits=11, occupiedUnits=4, overallOccupancyRate=36.36363636363637, totalActualIncome=8904.0, totalPotentialIncome=27813.0)
2025-12-01 12:30:06 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:30:06 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:30:08 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:30:08 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:30:12 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:30:12 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:33:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 12:34:03 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/stats/system-wide
2025-12-01 12:34:03 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:34:03 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?page=0&size=5
2025-12-01 12:34:03 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/stats/system-wide
2025-12-01 12:34:03 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:34:03 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:34:03 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 12:34:03 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 12:34:03 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:34:03 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?page=0&size=5
2025-12-01 12:34:03 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 12:34:03 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 12:34:03 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, null, null, Page request [number: 0, size 5, sort: name: ASC]]
2025-12-01 12:34:03 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 12:34:03 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 12:34:03 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 12:34:03 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        )
2025-12-01 12:34:03 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 3 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 12:34:04 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:34:04 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:34:06 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:34:06 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:34:10 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:34:10 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:37:13 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?page=0&size=5
2025-12-01 12:37:13 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:37:13 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/stats/system-wide
2025-12-01 12:37:13 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/stats/system-wide
2025-12-01 12:37:13 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:37:13 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:37:13 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?page=0&size=5
2025-12-01 12:37:13 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 12:37:13 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:37:13 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 12:37:13 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 12:37:13 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 12:37:13 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, null, null, Page request [number: 0, size 5, sort: name: ASC]]
2025-12-01 12:37:13 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 12:37:13 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 12:37:13 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 12:37:13 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        )
2025-12-01 12:37:13 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 3 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 12:37:14 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:37:15 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:37:17 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:37:17 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:37:18 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/count
2025-12-01 12:37:18 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /properties/search?page=0&size=9
2025-12-01 12:37:18 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=9
2025-12-01 12:37:18 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/by-manager/1?page=0&size=9
2025-12-01 12:37:18 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/count
2025-12-01 12:37:18 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/by-manager/1?page=0&size=9
2025-12-01 12:37:18 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesCount(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:37:18 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=9
2025-12-01 12:37:18 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesCount(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:37:18 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /properties/search?page=0&size=9
2025-12-01 12:37:18 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public long com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getTotalPropertiesCount(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 12:37:18 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:37:18 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public long com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getTotalPropertiesCount(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 12:37:18 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:37:18 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.searchPropertiesByFilter(com.proveritus.propertyservice.property.dto.PropertyFilterDTO,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:37:18 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesByManager(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:37:18 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getTotalPropertiesCount() with arguments: []
2025-12-01 12:37:18 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.searchPropertiesByFilter(com.proveritus.propertyservice.property.dto.PropertyFilterDTO,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:37:18 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesByManager(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:37:18 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 12:37:18 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        properties p1_0
2025-12-01 12:37:18 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getPropertiesByManager(..) with arguments: [1, Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 12:37:18 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 12:37:18 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.searchProperties(..) with arguments: [com.proveritus.propertyservice.property.dto.PropertyFilterDTO@61d9de6, Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 12:37:18 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getTotalPropertiesCount() with result: 4
2025-12-01 12:37:18 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        1=1 
    limit
        ?, ?
2025-12-01 12:37:18 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.managed_by=? 
    limit
        ?
2025-12-01 12:37:18 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getPropertiesByManager(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 12:37:18 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 12:37:18 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.searchProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 12:37:20 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 12:37:20 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 12:37:20 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 12:37:20 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:37:20 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 12:37:20 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:37:20 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 12:37:20 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 12:37:20 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 12:37:21 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 12:37:21 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 12:37:23 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 12:37:23 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 12:37:27 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 12:37:27 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 12:38:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 12:38:10 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 12:38:10 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 12:38:10 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 12:38:10 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 12:38:10 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:38:10 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:38:10 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 12:38:10 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 12:38:11 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 12:38:12 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 12:38:12 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 12:38:14 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 12:38:14 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 12:38:18 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 12:38:18 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 12:38:18 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:38:18 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?page=0&size=5
2025-12-01 12:38:18 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/stats/system-wide
2025-12-01 12:38:19 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:38:19 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/stats/system-wide
2025-12-01 12:38:19 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:38:19 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:38:19 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 12:38:19 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 12:38:19 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?page=0&size=5
2025-12-01 12:38:19 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 12:38:19 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 12:38:19 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, null, null, Page request [number: 0, size 5, sort: name: ASC]]
2025-12-01 12:38:19 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 12:38:19 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 12:38:19 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 12:38:19 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        )
2025-12-01 12:38:19 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 3 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 12:38:20 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:38:20 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:38:22 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:38:22 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:38:26 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:38:26 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:43:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 12:48:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 12:53:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 12:54:41 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?page=0&size=5
2025-12-01 12:54:41 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/stats/system-wide
2025-12-01 12:54:41 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:54:41 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?page=0&size=5
2025-12-01 12:54:41 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 12:54:41 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/stats/system-wide
2025-12-01 12:54:41 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 12:54:41 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:54:41 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:54:41 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 12:54:41 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, null, null, Page request [number: 0, size 5, sort: name: ASC]]
2025-12-01 12:54:41 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 12:54:41 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 12:54:41 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 12:54:41 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 12:54:41 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:54:41 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getSystemWideStats() with arguments: []
2025-12-01 12:54:41 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        properties p1_0
2025-12-01 12:54:41 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        units u1_0
2025-12-01 12:54:41 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        )
2025-12-01 12:54:41 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        u1_0.occupancy_status=?
2025-12-01 12:54:41 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        coalesce(sum(u1_0.monthly_rent), 0) 
    from
        units u1_0 
    where
        u1_0.occupancy_status='OCCUPIED'
2025-12-01 12:54:41 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        coalesce(sum(u1_0.monthly_rent), 0) 
    from
        units u1_0
2025-12-01 12:54:41 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 3 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 12:54:41 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getSystemWideStats() with result: SystemStatsDTO(totalProperties=4, totalUnits=11, occupiedUnits=4, overallOccupancyRate=36.36363636363637, totalActualIncome=8904.0, totalPotentialIncome=27813.0)
2025-12-01 12:54:42 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:54:42 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:54:44 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:54:44 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:54:48 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 12:54:48 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 12:55:37 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 12:55:37 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 12:55:37 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?page=0&size=9
2025-12-01 12:55:37 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 12:55:37 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 12:55:37 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?page=0&size=9
2025-12-01 12:55:37 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:55:37 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 12:55:37 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:55:37 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 12:55:37 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, null, null, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 12:55:37 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 12:55:37 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 12:55:37 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 12:55:37 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 12:55:37 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 12:55:37 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        )
2025-12-01 12:55:37 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 2 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 12:55:37 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 12:55:38 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 12:55:38 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 12:55:40 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 12:55:40 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 12:55:44 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 12:55:44 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 12:55:51 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 12:55:51 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 12:55:51 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 12:55:51 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:55:51 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 12:55:51 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 12:55:51 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 12:55:51 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 12:55:51 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 12:55:52 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 12:55:52 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 12:55:54 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 12:55:54 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 12:55:58 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 12:55:58 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 12:58:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 13:00:16 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 13:00:16 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 13:00:16 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 13:00:16 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 13:00:16 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 13:00:16 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 13:00:16 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 13:00:16 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 13:00:16 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 13:00:17 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 13:00:17 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 13:00:19 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 13:00:19 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 13:00:23 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 13:00:23 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 13:03:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 13:08:01 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 13:48:08 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 13:48:08 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 13:48:08 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 13:48:08 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 13:48:08 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 13:48:08 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 13:48:08 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 13:48:08 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 13:48:08 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 13:51:35 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 13:56:35 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 14:01:35 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 14:02:53 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 14:02:53 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 14:02:53 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 14:02:53 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 14:02:53 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:02:53 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:02:53 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 14:02:53 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 14:02:54 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:02:55 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 14:02:56 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 14:03:00 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 14:03:00 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 14:05:59 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /properties/search?page=0&size=9
2025-12-01 14:05:59 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/count
2025-12-01 14:06:00 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /properties/search?page=0&size=9
2025-12-01 14:06:00 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.searchPropertiesByFilter(com.proveritus.propertyservice.property.dto.PropertyFilterDTO,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:06:00 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.searchPropertiesByFilter(com.proveritus.propertyservice.property.dto.PropertyFilterDTO,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:06:00 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.searchProperties(..) with arguments: [com.proveritus.propertyservice.property.dto.PropertyFilterDTO@1cc4b025, Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 14:06:00 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        1=1 
    limit
        ?, ?
2025-12-01 14:06:00 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=9
2025-12-01 14:06:00 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/count
2025-12-01 14:06:00 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesCount(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:06:00 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesCount(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:06:00 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public long com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getTotalPropertiesCount(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 14:06:00 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public long com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getTotalPropertiesCount(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 14:06:00 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getTotalPropertiesCount() with arguments: []
2025-12-01 14:06:00 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        properties p1_0
2025-12-01 14:06:00 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getTotalPropertiesCount() with result: 4
2025-12-01 14:06:00 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=9
2025-12-01 14:06:00 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:06:00 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:06:00 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 14:06:00 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 14:06:00 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/by-manager/1?page=0&size=9
2025-12-01 14:06:00 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.searchProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:06:00 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/by-manager/1?page=0&size=9
2025-12-01 14:06:00 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesByManager(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:06:00 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesByManager(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:06:00 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getPropertiesByManager(..) with arguments: [1, Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 14:06:00 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.managed_by=? 
    limit
        ?
2025-12-01 14:06:00 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:06:00 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getPropertiesByManager(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:06:03 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/1/stats
2025-12-01 14:06:03 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/1
2025-12-01 14:06:03 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units/property/1/count
2025-12-01 14:06:03 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units/property/1/income
2025-12-01 14:06:03 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/1
2025-12-01 14:06:03 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyById(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:06:03 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/1/stats
2025-12-01 14:06:03 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyById(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:06:03 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:06:03 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getPropertyById(..) with arguments: [1]
2025-12-01 14:06:03 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:06:03 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 14:06:03 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getPropertyStats(..) with arguments: [1]
2025-12-01 14:06:03 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units/property/1/income
2025-12-01 14:06:03 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units/property/1/count
2025-12-01 14:06:03 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        (select
            count(f1_0.id) 
        from
            floors f1_0 
        where
            f1_0.property_id=p1_0.id),
        (select
            count(u2_0.id) 
        from
            units u2_0 
        where
            u2_0.property_id=p1_0.id),
        coalesce(sum(case 
            when u1_0.occupancy_status='OCCUPIED' 
                then 1 
            else 0 
    end), 0),
    coalesce(sum(case 
        when u1_0.occupancy_status='AVAILABLE' 
            then 1 
        else 0 
end), 0),
coalesce(sum(case 
    when u1_0.occupancy_status='RESERVED' 
        then 1 
    else 0 
end), 0),
coalesce(sum(case 
    when u1_0.occupancy_status='NOT_AVAILABLE' 
        then 1 
    else 0 
end), 0),
coalesce(sum(case 
    when u1_0.occupancy_status='UNDER_MAINTENANCE' 
        then 1 
    else 0 
end), 0),
case 
    when (select
        count(u3_0.id) from
            units u3_0 
        where
            u3_0.property_id=p1_0.id)>0 
            then ((coalesce(sum(case 
                when u1_0.occupancy_status='OCCUPIED' 
                    then 1 
                else 0 
        end), 0)*100.0)/(select
            count(u4_0.id) 
        from
            units u4_0 
        where
            u4_0.property_id=p1_0.id)) 
    else 0.0 
end,
case 
    when (select
        count(u5_0.id) from
            units u5_0 
        where
            u5_0.property_id=p1_0.id)>0 
            then ((coalesce(sum(case 
                when u1_0.occupancy_status='AVAILABLE' 
                    then 1 
                else 0 
        end), 0)*100.0)/(select
            count(u6_0.id) 
        from
            units u6_0 
        where
            u6_0.property_id=p1_0.id)) 
    else 0.0 
end,
coalesce(sum(case 
    when u1_0.occupancy_status='OCCUPIED' 
        then u1_0.monthly_rent 
    else 0 
end), 0.0),
coalesce(sum(u1_0.monthly_rent), 0.0) 
from
    properties p1_0 
left join
    units u1_0 
        on u1_0.property_id=p1_0.id 
where
    p1_0.id=? 
group by
    p1_0.id
2025-12-01 14:06:03 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.calculateRentalIncome(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:06:03 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.countUnitsByProperty(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:06:03 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.calculateRentalIncome(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:06:03 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.countUnitsByProperty(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:06:03 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.calculatePotentialRentalIncome(..) with arguments: [1]
2025-12-01 14:06:03 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.countUnitsByPropertyId(..) with arguments: [1]
2025-12-01 14:06:03 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 14:06:03 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 14:06:03 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        coalesce(sum(u1_0.monthly_rent), 0) 
    from
        units u1_0 
    where
        u1_0.property_id=? 
        and u1_0.occupancy_status='OCCUPIED'
2025-12-01 14:06:03 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        u1_0.property_id=?
2025-12-01 14:06:03 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.calculatePotentialRentalIncome(..) with result: 245.0
2025-12-01 14:06:03 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.countUnitsByPropertyId(..) with result: 2
2025-12-01 14:06:03 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getPropertyStats(..) with result: PropertyStatsDTO(totalFloors=4, totalUnits=2, occupiedUnits=1, vacantUnits=1, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=50.0, vacancyRate=50.0, totalRentalIncome=245.0, potentialRentalIncome=689.0)
2025-12-01 14:06:03 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getPropertyById(..) with result: com.proveritus.propertyservice.property.dto.PropertyDTO@44214f5e
2025-12-01 14:06:03 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=1&page=0&size=6
2025-12-01 14:06:03 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=1&page=0&size=6
2025-12-01 14:06:03 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:06:03 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:06:03 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [1, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 14:06:03 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 14:06:03 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:06:03 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:06:03 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 14:06:03 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:06:03 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:06:03 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:06:03 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:06:03 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 14:06:03 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/2/occupancy-stats
2025-12-01 14:06:03 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/8/occupancy-stats
2025-12-01 14:06:03 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/1/occupancy-stats
2025-12-01 14:06:03 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/5/occupancy-stats
2025-12-01 14:06:03 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/2/occupancy-stats
2025-12-01 14:06:03 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:06:03 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:06:03 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [2]
2025-12-01 14:06:03 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:06:03 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/8/occupancy-stats
2025-12-01 14:06:03 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:06:03 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:06:03 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/5/occupancy-stats
2025-12-01 14:06:03 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:06:03 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:06:03 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [8]
2025-12-01 14:06:03 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:06:03 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=1, occupiedUnits=0, vacantUnits=1, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=100.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:06:03 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:06:03 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [5]
2025-12-01 14:06:03 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:06:03 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/1/occupancy-stats
2025-12-01 14:06:03 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:06:03 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:06:03 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:06:03 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:06:03 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [1]
2025-12-01 14:06:03 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:06:03 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:06:03 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:06:03 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:06:03 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=1, occupiedUnits=1, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=100.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:06:11 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 14:06:11 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 14:06:11 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 14:06:11 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 14:06:11 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:06:11 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:06:11 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 14:06:11 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 14:06:11 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:06:12 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=9
2025-12-01 14:06:12 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=9
2025-12-01 14:06:13 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 14:06:13 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?page=0&size=9
2025-12-01 14:06:13 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 14:06:13 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 14:06:13 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?page=0&size=9
2025-12-01 14:06:13 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:06:13 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:06:13 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:06:13 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:06:13 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, null, null, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 14:06:13 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 14:06:13 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:06:13 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:06:13 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 14:06:13 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 14:06:13 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 14:06:13 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        )
2025-12-01 14:06:13 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 2 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 14:06:13 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:06:14 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 14:06:14 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 14:06:16 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 14:06:16 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 14:06:20 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 14:06:20 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 14:06:35 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 14:07:10 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/stats/system-wide
2025-12-01 14:07:10 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 14:07:10 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?page=0&size=5
2025-12-01 14:07:10 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/stats/system-wide
2025-12-01 14:07:10 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:07:10 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:07:10 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 14:07:10 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 14:07:10 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 14:07:10 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?page=0&size=5
2025-12-01 14:07:10 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getSystemWideStats() with arguments: []
2025-12-01 14:07:10 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        properties p1_0
2025-12-01 14:07:10 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:07:10 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:07:10 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, null, null, Page request [number: 0, size 5, sort: name: ASC]]
2025-12-01 14:07:10 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        units u1_0
2025-12-01 14:07:10 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:07:10 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:07:10 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 14:07:10 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        u1_0.occupancy_status=?
2025-12-01 14:07:10 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        coalesce(sum(u1_0.monthly_rent), 0) 
    from
        units u1_0 
    where
        u1_0.occupancy_status='OCCUPIED'
2025-12-01 14:07:10 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        coalesce(sum(u1_0.monthly_rent), 0) 
    from
        units u1_0
2025-12-01 14:07:10 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        )
2025-12-01 14:07:10 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getSystemWideStats() with result: SystemStatsDTO(totalProperties=4, totalUnits=11, occupiedUnits=4, overallOccupancyRate=36.36363636363637, totalActualIncome=8904.0, totalPotentialIncome=27813.0)
2025-12-01 14:07:10 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 3 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 14:07:11 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 14:07:11 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 14:07:13 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 14:07:13 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 14:07:17 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 14:07:17 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 14:07:36 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 14:07:36 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?page=0&size=5
2025-12-01 14:07:36 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/stats/system-wide
2025-12-01 14:07:36 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?page=0&size=5
2025-12-01 14:07:36 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/stats/system-wide
2025-12-01 14:07:36 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 14:07:36 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:07:36 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:07:36 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:07:36 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 14:07:36 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:07:36 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 14:07:36 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, null, null, Page request [number: 0, size 5, sort: name: ASC]]
2025-12-01 14:07:36 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:07:36 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:07:36 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 14:07:36 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        )
2025-12-01 14:07:36 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 3 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 14:07:37 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 14:07:37 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 14:07:39 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 14:07:39 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 14:07:43 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=5
2025-12-01 14:07:43 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=5
2025-12-01 14:11:35 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 14:12:43 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/stats/system-wide
2025-12-01 14:12:43 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/stats/system-wide
2025-12-01 14:12:43 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:12:43 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:12:43 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 14:12:43 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 14:14:28 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/stats/system-wide
2025-12-01 14:14:28 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/stats/system-wide
2025-12-01 14:14:28 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:14:28 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:14:28 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 14:14:28 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 14:15:21 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/stats/system-wide
2025-12-01 14:15:21 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/stats/system-wide
2025-12-01 14:15:21 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:15:21 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:15:21 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 14:15:21 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 14:16:35 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 14:17:05 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/stats/system-wide
2025-12-01 14:17:05 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 14:17:05 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/stats/system-wide
2025-12-01 14:17:05 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:17:05 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:17:05 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 14:17:05 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 14:17:05 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 14:17:05 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:17:05 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:17:05 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 14:17:05 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 14:17:05 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:17:20 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 14:17:20 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 14:17:20 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:17:20 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:17:20 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 14:17:20 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 14:17:20 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:17:28 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=1&page=0&size=9
2025-12-01 14:17:28 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=1&page=0&size=9
2025-12-01 14:17:28 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:17:28 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:17:28 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [1, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 14:17:28 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 14:17:28 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:17:28 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:17:28 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 14:17:28 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:17:28 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:17:28 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:17:28 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:17:28 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 14:17:33 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?page=0&size=9
2025-12-01 14:17:33 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 14:17:33 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 14:17:33 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?page=0&size=9
2025-12-01 14:17:33 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:17:33 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:17:33 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, null, null, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 14:17:33 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:17:33 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:17:33 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 14:17:33 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 14:17:33 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        )
2025-12-01 14:17:33 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 14:17:33 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:17:33 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 2 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 14:17:33 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:17:33 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 14:17:33 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 14:17:34 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:17:34 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 14:17:34 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 14:17:37 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 14:17:37 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 14:17:41 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 14:17:41 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 14:18:12 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 14:18:12 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 14:18:12 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:18:12 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:18:12 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 14:18:12 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 14:18:12 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:18:16 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=2&page=0&size=9
2025-12-01 14:18:16 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=2&page=0&size=9
2025-12-01 14:18:16 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:18:16 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:18:16 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [2, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 14:18:16 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 14:18:16 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:18:16 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:18:16 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 14:18:16 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:18:16 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:18:16 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:18:16 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 14:18:43 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/stats/system-wide
2025-12-01 14:18:43 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 14:18:43 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/stats/system-wide
2025-12-01 14:18:43 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:18:43 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:18:43 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 14:18:43 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 14:18:43 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 14:18:43 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:18:43 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:18:43 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 14:18:43 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 14:18:43 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:18:51 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=1&page=0&size=5
2025-12-01 14:18:51 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?propertyId=1&page=0&size=5
2025-12-01 14:18:51 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=1&page=0&size=5
2025-12-01 14:18:51 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:18:51 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:18:51 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [1, Page request [number: 0, size 5, sort: name: ASC]]
2025-12-01 14:18:51 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 14:18:51 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:18:51 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:18:51 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?propertyId=1&page=0&size=5
2025-12-01 14:18:51 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:18:51 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:18:51 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 14:18:51 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [1, null, null, Page request [number: 0, size 5, sort: name: ASC]]
2025-12-01 14:18:51 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:18:51 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:18:51 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 14:18:51 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:18:51 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 14:18:51 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:18:51 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:18:51 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:18:51 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 14:18:57 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=2&page=0&size=5
2025-12-01 14:18:57 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?propertyId=2&page=0&size=5
2025-12-01 14:18:57 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=2&page=0&size=5
2025-12-01 14:18:57 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:18:57 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:18:57 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [2, Page request [number: 0, size 5, sort: name: ASC]]
2025-12-01 14:18:57 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 14:18:57 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:18:57 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:18:57 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 14:18:57 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?propertyId=2&page=0&size=5
2025-12-01 14:18:57 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:18:57 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:18:57 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:18:57 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [2, null, null, Page request [number: 0, size 5, sort: name: ASC]]
2025-12-01 14:18:57 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:18:57 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:18:57 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:18:57 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 14:18:57 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:18:57 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        )
2025-12-01 14:18:57 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 14:18:57 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 14:21:35 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 14:24:40 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 14:24:40 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?propertyId=2&page=0&size=5
2025-12-01 14:24:40 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=2&page=0&size=5
2025-12-01 14:24:40 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/stats/system-wide
2025-12-01 14:24:40 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/stats/system-wide
2025-12-01 14:24:40 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:24:40 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:24:40 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 14:24:40 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 14:24:40 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=2&page=0&size=5
2025-12-01 14:24:40 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?propertyId=2&page=0&size=5
2025-12-01 14:24:40 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:24:40 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:24:40 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:24:40 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:24:40 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 14:24:40 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:24:40 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [2, Page request [number: 0, size 5, sort: name: ASC]]
2025-12-01 14:24:40 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 14:24:40 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [2, null, null, Page request [number: 0, size 5, sort: name: ASC]]
2025-12-01 14:24:40 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:24:40 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:24:40 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:24:40 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 14:24:40 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:24:40 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:24:40 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 14:24:40 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        )
2025-12-01 14:24:40 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 14:24:40 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 14:24:40 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 14:24:40 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:24:40 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:24:40 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:24:40 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 14:24:40 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:24:45 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?page=0&size=9
2025-12-01 14:24:45 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 14:24:45 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 14:24:45 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?page=0&size=9
2025-12-01 14:24:45 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:24:45 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:24:45 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, null, null, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 14:24:45 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:24:45 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:24:45 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 14:24:45 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 14:24:45 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 14:24:45 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        )
2025-12-01 14:24:45 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:24:45 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:24:45 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 14:24:45 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 2 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 14:24:45 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 14:24:46 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:24:46 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 14:24:47 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 14:24:49 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 14:24:49 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 14:24:53 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 14:24:53 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 14:24:53 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 14:24:53 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 14:24:53 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:24:53 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:24:53 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 14:24:53 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 14:24:53 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:24:57 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=2&page=0&size=9
2025-12-01 14:24:57 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=2&page=0&size=9
2025-12-01 14:24:57 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:24:57 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:24:57 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [2, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 14:24:57 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 14:24:57 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:24:57 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:24:57 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 14:24:57 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:24:57 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:24:57 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:24:57 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 14:24:57 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/6/occupancy-stats
2025-12-01 14:24:57 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/9/occupancy-stats
2025-12-01 14:24:57 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/6/occupancy-stats
2025-12-01 14:24:57 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:24:57 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:24:57 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/10/occupancy-stats
2025-12-01 14:24:57 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [6]
2025-12-01 14:24:57 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:24:57 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/9/occupancy-stats
2025-12-01 14:24:57 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:24:57 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:24:57 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:24:57 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [9]
2025-12-01 14:24:57 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=5, occupiedUnits=1, vacantUnits=2, reservedUnits=1, notAvailableUnits=0, underMaintenanceUnits=1, occupancyRate=20.0, vacancyRate=40.0, reservedRate=20.0, notAvailableRate=0.0, underMaintenanceRate=20.0)
2025-12-01 14:24:57 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:24:57 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:24:57 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:24:57 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/10/occupancy-stats
2025-12-01 14:24:57 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:24:57 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:24:57 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [10]
2025-12-01 14:24:57 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:24:57 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:24:57 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:25:15 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?page=0&size=9
2025-12-01 14:25:15 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 14:25:15 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 14:25:15 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?page=0&size=9
2025-12-01 14:25:15 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:25:15 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:25:15 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, null, null, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 14:25:15 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:25:15 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:25:15 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 14:25:15 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 14:25:15 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        )
2025-12-01 14:25:15 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 2 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 14:25:15 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 14:25:15 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:25:15 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:25:15 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 14:25:15 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 14:25:15 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:25:16 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 14:25:16 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 14:25:18 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?page=0&size=1000
2025-12-01 14:25:18 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?page=0&size=1000
2025-12-01 14:25:20 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/stats/system-wide
2025-12-01 14:25:20 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 14:25:20 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/stats/system-wide
2025-12-01 14:25:20 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:25:20 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:25:20 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 14:25:20 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.proveritus.propertyservice.property.dto.SystemStatsDTO com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getSystemWideStats(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 14:25:20 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 14:25:20 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:25:20 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:25:20 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 14:25:20 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 14:25:20 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:25:55 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/count
2025-12-01 14:25:55 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /properties/search?page=0&size=9
2025-12-01 14:25:55 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=9
2025-12-01 14:25:55 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/by-manager/1?page=0&size=9
2025-12-01 14:25:55 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/count
2025-12-01 14:25:55 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesCount(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:25:55 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesCount(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:25:55 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public long com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getTotalPropertiesCount(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 14:25:55 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public long com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getTotalPropertiesCount(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 14:25:55 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getTotalPropertiesCount() with arguments: []
2025-12-01 14:25:55 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        properties p1_0
2025-12-01 14:25:55 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /properties/search?page=0&size=9
2025-12-01 14:25:55 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.searchPropertiesByFilter(com.proveritus.propertyservice.property.dto.PropertyFilterDTO,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:25:55 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.searchPropertiesByFilter(com.proveritus.propertyservice.property.dto.PropertyFilterDTO,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:25:55 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.searchProperties(..) with arguments: [com.proveritus.propertyservice.property.dto.PropertyFilterDTO@45335ce6, Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 14:25:55 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        1=1 
    limit
        ?, ?
2025-12-01 14:25:55 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getTotalPropertiesCount() with result: 4
2025-12-01 14:25:55 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=9
2025-12-01 14:25:55 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:25:55 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:25:55 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 14:25:55 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 14:25:55 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/by-manager/1?page=0&size=9
2025-12-01 14:25:55 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesByManager(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:25:55 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesByManager(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:25:55 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getPropertiesByManager(..) with arguments: [1, Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 14:25:55 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.managed_by=? 
    limit
        ?
2025-12-01 14:25:55 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:25:55 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.searchProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:25:55 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getPropertiesByManager(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:25:58 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 14:25:58 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 14:25:58 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:25:58 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:25:58 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 14:25:58 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 14:25:58 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:26:35 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 14:29:50 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 14:29:50 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 14:29:50 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:29:50 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:29:50 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 14:29:50 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 14:29:50 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:31:01 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=1&page=0&size=9
2025-12-01 14:31:01 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=1&page=0&size=9
2025-12-01 14:31:01 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:31:01 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:31:01 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [1, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 14:31:01 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 14:31:01 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:31:01 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:31:01 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 14:31:01 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:31:01 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:31:01 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:31:01 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:31:01 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 14:31:01 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/2/occupancy-stats
2025-12-01 14:31:01 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/8/occupancy-stats
2025-12-01 14:31:01 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/1/occupancy-stats
2025-12-01 14:31:01 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/2/occupancy-stats
2025-12-01 14:31:01 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:31:01 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:31:01 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [2]
2025-12-01 14:31:01 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/5/occupancy-stats
2025-12-01 14:31:01 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:31:01 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:31:01 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=1, occupiedUnits=0, vacantUnits=1, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=100.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:31:01 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/8/occupancy-stats
2025-12-01 14:31:01 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:31:01 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:31:01 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [8]
2025-12-01 14:31:01 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:31:01 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/1/occupancy-stats
2025-12-01 14:31:01 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:31:01 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:31:01 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:31:01 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:31:01 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [1]
2025-12-01 14:31:01 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:31:01 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:31:01 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=1, occupiedUnits=1, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=100.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:31:01 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/5/occupancy-stats
2025-12-01 14:31:01 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:31:01 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:31:01 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [5]
2025-12-01 14:31:01 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:31:01 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:31:01 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:31:03 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/2
2025-12-01 14:31:03 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?floorId=2&page=0&size=100
2025-12-01 14:31:03 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/2
2025-12-01 14:31:03 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?floorId=2&page=0&size=100
2025-12-01 14:31:03 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:31:03 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:31:03 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, 2, null, Page request [number: 0, size 100, sort: name: ASC]]
2025-12-01 14:31:03 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:31:03 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:31:03 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 14:31:03 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorById(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:31:03 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorById(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:31:03 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 14:31:03 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorById(..) with arguments: [2]
2025-12-01 14:31:03 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:31:03 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:31:03 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorById(..) with result: com.proveritus.propertyservice.floor.dto.FloorDTO@12c8bb43
2025-12-01 14:31:11 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units/11
2025-12-01 14:31:11 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units/11
2025-12-01 14:31:11 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnitById(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:31:11 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnitById(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:31:11 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitById(..) with arguments: [11]
2025-12-01 14:31:11 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.id=?
2025-12-01 14:31:11 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitById(..) with result: UnitDTO(id=11, name=A1, size=null, rentType=null, ratePerSqm=null, monthlyRent=444.0, occupancyStatus=AVAILABLE, tenant=, tenantEmail=null, tenantPhone=null, leaseStartDate=null, leaseEndDate=null, propertyId=null, floorId=null)
2025-12-01 14:31:20 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 14:31:20 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 14:31:20 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:31:20 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:31:20 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 14:31:20 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 14:31:20 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:31:30 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=3&page=0&size=1000
2025-12-01 14:31:30 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?propertyId=3&page=0&size=9
2025-12-01 14:31:30 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?propertyId=3&page=0&size=9
2025-12-01 14:31:30 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:31:30 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:31:30 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [3, null, null, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 14:31:30 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:31:30 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:31:30 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 14:31:30 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 14:31:30 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=3&page=0&size=1000
2025-12-01 14:31:30 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:31:30 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:31:30 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [3, Page request [number: 0, size 1000, sort: name: ASC]]
2025-12-01 14:31:30 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 14:31:30 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:31:30 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:31:30 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 14:31:30 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:31:30 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:31:30 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 14:31:34 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units/1
2025-12-01 14:31:34 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units/1
2025-12-01 14:31:34 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnitById(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:31:34 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnitById(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:31:34 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitById(..) with arguments: [1]
2025-12-01 14:31:34 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.id=?
2025-12-01 14:31:34 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitById(..) with result: UnitDTO(id=1, name=A1, size=null, rentType=null, ratePerSqm=null, monthlyRent=250.0, occupancyStatus=OCCUPIED, tenant=Tinashe Mutero, tenantEmail=null, tenantPhone=null, leaseStartDate=null, leaseEndDate=null, propertyId=null, floorId=null)
2025-12-01 14:31:35 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 14:31:41 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 14:31:41 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 14:31:41 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:31:41 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:31:41 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 14:31:41 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 14:31:41 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:31:44 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 14:31:44 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 14:31:44 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:31:44 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:31:44 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 14:31:44 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 14:31:44 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:31:48 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=2&page=0&size=9
2025-12-01 14:31:48 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=2&page=0&size=9
2025-12-01 14:31:48 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:31:48 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:31:48 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [2, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 14:31:48 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 14:31:48 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:31:48 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:31:48 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 14:31:48 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:31:48 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:31:48 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:31:48 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 14:31:48 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/6/occupancy-stats
2025-12-01 14:31:48 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/9/occupancy-stats
2025-12-01 14:31:48 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/10/occupancy-stats
2025-12-01 14:31:48 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/9/occupancy-stats
2025-12-01 14:31:48 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:31:48 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:31:48 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [9]
2025-12-01 14:31:48 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:31:48 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:31:48 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/10/occupancy-stats
2025-12-01 14:31:48 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:31:48 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:31:48 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:31:48 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [10]
2025-12-01 14:31:48 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:31:48 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:31:48 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:31:48 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/6/occupancy-stats
2025-12-01 14:31:48 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:31:48 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:31:48 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [6]
2025-12-01 14:31:48 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:31:48 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:31:48 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=5, occupiedUnits=1, vacantUnits=2, reservedUnits=1, notAvailableUnits=0, underMaintenanceUnits=1, occupancyRate=20.0, vacancyRate=40.0, reservedRate=20.0, notAvailableRate=0.0, underMaintenanceRate=20.0)
2025-12-01 14:31:52 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/6
2025-12-01 14:31:52 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?floorId=6&page=0&size=100
2025-12-01 14:31:52 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/6
2025-12-01 14:31:52 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorById(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:31:52 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorById(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:31:52 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorById(..) with arguments: [6]
2025-12-01 14:31:52 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:31:52 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?floorId=6&page=0&size=100
2025-12-01 14:31:52 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:31:52 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:31:52 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:31:52 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, 6, null, Page request [number: 0, size 100, sort: name: ASC]]
2025-12-01 14:31:52 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:31:52 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:31:52 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 14:31:52 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorById(..) with result: com.proveritus.propertyservice.floor.dto.FloorDTO@13471b84
2025-12-01 14:31:52 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 14:31:58 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units/3
2025-12-01 14:31:58 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units/3
2025-12-01 14:31:58 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnitById(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:31:58 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnitById(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:31:58 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitById(..) with arguments: [3]
2025-12-01 14:31:58 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.id=?
2025-12-01 14:31:58 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitById(..) with result: UnitDTO(id=3, name=A01, size=null, rentType=null, ratePerSqm=null, monthlyRent=522.0, occupancyStatus=AVAILABLE, tenant=null, tenantEmail=null, tenantPhone=null, leaseStartDate=null, leaseEndDate=null, propertyId=null, floorId=null)
2025-12-01 14:32:14 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 14:32:14 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 14:32:14 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:32:14 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:32:14 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 14:32:14 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 14:32:14 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:35:23 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=2&page=0&size=1000
2025-12-01 14:35:23 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?propertyId=2&page=0&size=9
2025-12-01 14:35:23 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=2&page=0&size=1000
2025-12-01 14:35:23 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?propertyId=2&page=0&size=9
2025-12-01 14:35:23 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:35:23 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:35:23 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:35:23 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:35:23 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [2, Page request [number: 0, size 1000, sort: name: ASC]]
2025-12-01 14:35:23 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [2, null, null, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 14:35:23 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:35:23 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:35:23 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 14:35:23 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 14:35:23 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:35:23 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:35:23 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 14:35:23 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 14:35:23 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:35:23 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:35:23 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:35:23 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 14:35:29 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?floorId=6&page=0&size=9
2025-12-01 14:35:29 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?floorId=6&page=0&size=9
2025-12-01 14:35:29 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:35:29 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:35:29 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, 6, null, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 14:35:29 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:35:29 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:35:29 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 14:35:29 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 14:35:35 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?floorId=9&page=0&size=9
2025-12-01 14:35:35 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?floorId=9&page=0&size=9
2025-12-01 14:35:35 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:35:35 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:35:35 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, 9, null, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 14:35:35 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:35:35 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:35:35 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 14:35:35 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 0 containing UNKNOWN instances
2025-12-01 14:35:39 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?floorId=10&page=0&size=9
2025-12-01 14:35:39 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?floorId=10&page=0&size=9
2025-12-01 14:35:39 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:35:39 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:35:39 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, 10, null, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 14:35:39 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:35:39 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:35:39 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 14:35:39 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 0 containing UNKNOWN instances
2025-12-01 14:35:43 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?floorId=6&page=0&size=9
2025-12-01 14:35:43 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?floorId=6&page=0&size=9
2025-12-01 14:35:43 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:35:43 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:35:43 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, 6, null, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 14:35:43 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:35:43 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:35:43 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 14:35:43 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 14:35:47 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units/3
2025-12-01 14:35:47 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units/3
2025-12-01 14:35:47 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnitById(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:35:47 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnitById(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:35:56 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units/3
2025-12-01 14:35:56 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units/3
2025-12-01 14:35:56 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnitById(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:35:56 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnitById(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:36:00 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 14:36:00 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 14:36:00 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:36:00 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:36:00 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 14:36:00 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 14:36:00 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:36:06 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 14:36:06 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 14:36:06 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:36:06 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:36:06 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 14:36:06 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 14:36:06 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:36:11 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=2&page=0&size=9
2025-12-01 14:36:11 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=2&page=0&size=9
2025-12-01 14:36:11 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:11 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:11 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [2, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 14:36:11 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 14:36:11 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:36:11 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:36:11 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 14:36:11 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:36:11 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:36:11 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:36:11 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 14:36:11 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/6/occupancy-stats
2025-12-01 14:36:11 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/9/occupancy-stats
2025-12-01 14:36:11 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/10/occupancy-stats
2025-12-01 14:36:11 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/6/occupancy-stats
2025-12-01 14:36:11 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:11 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:11 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/9/occupancy-stats
2025-12-01 14:36:11 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [6]
2025-12-01 14:36:11 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:11 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:11 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:36:11 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [9]
2025-12-01 14:36:11 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:36:11 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:36:11 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:36:11 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=5, occupiedUnits=1, vacantUnits=2, reservedUnits=1, notAvailableUnits=0, underMaintenanceUnits=1, occupancyRate=20.0, vacancyRate=40.0, reservedRate=20.0, notAvailableRate=0.0, underMaintenanceRate=20.0)
2025-12-01 14:36:11 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:36:11 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/10/occupancy-stats
2025-12-01 14:36:11 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:11 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:11 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [10]
2025-12-01 14:36:11 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:36:11 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:36:11 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:36:13 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/6
2025-12-01 14:36:13 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?floorId=6&page=0&size=100
2025-12-01 14:36:13 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/6
2025-12-01 14:36:13 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorById(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:13 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorById(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:13 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?floorId=6&page=0&size=100
2025-12-01 14:36:13 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:36:13 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:36:13 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, 6, null, Page request [number: 0, size 100, sort: name: ASC]]
2025-12-01 14:36:13 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:36:13 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:36:13 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 14:36:13 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 14:36:23 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 14:36:23 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 14:36:23 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:36:23 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:36:23 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 14:36:23 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 14:36:23 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:36:27 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/6/occupancy-stats
2025-12-01 14:36:27 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/9/occupancy-stats
2025-12-01 14:36:27 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/10/occupancy-stats
2025-12-01 14:36:27 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/6/occupancy-stats
2025-12-01 14:36:27 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:27 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:27 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [6]
2025-12-01 14:36:27 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:36:27 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/9/occupancy-stats
2025-12-01 14:36:27 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:27 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:36:27 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:27 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=5, occupiedUnits=1, vacantUnits=2, reservedUnits=1, notAvailableUnits=0, underMaintenanceUnits=1, occupancyRate=20.0, vacancyRate=40.0, reservedRate=20.0, notAvailableRate=0.0, underMaintenanceRate=20.0)
2025-12-01 14:36:27 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [9]
2025-12-01 14:36:27 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:36:27 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/10/occupancy-stats
2025-12-01 14:36:27 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:36:27 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:27 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:27 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:36:27 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [10]
2025-12-01 14:36:27 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:36:27 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:36:27 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:36:27 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=2&page=0&size=9
2025-12-01 14:36:27 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=2&page=0&size=9
2025-12-01 14:36:27 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:27 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:27 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [2, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 14:36:27 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 14:36:27 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:36:27 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:36:27 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 14:36:27 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:36:27 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:36:27 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:36:27 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 14:36:29 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/6
2025-12-01 14:36:29 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?floorId=6&page=0&size=100
2025-12-01 14:36:29 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/6
2025-12-01 14:36:29 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorById(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:29 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorById(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:29 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?floorId=6&page=0&size=100
2025-12-01 14:36:29 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:36:29 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:36:29 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, 6, null, Page request [number: 0, size 100, sort: name: ASC]]
2025-12-01 14:36:29 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:36:29 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:36:29 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 14:36:29 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 14:36:31 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units/3
2025-12-01 14:36:31 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units/3
2025-12-01 14:36:31 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnitById(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:36:31 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnitById(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:36:35 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 14:36:41 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/count
2025-12-01 14:36:41 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /properties/search?page=0&size=9
2025-12-01 14:36:41 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=9
2025-12-01 14:36:41 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/count
2025-12-01 14:36:41 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesCount(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:36:41 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesCount(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:36:41 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public long com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getTotalPropertiesCount(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 14:36:41 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public long com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getTotalPropertiesCount(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 14:36:41 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getTotalPropertiesCount() with arguments: []
2025-12-01 14:36:41 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        properties p1_0
2025-12-01 14:36:41 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /properties/search?page=0&size=9
2025-12-01 14:36:41 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.searchPropertiesByFilter(com.proveritus.propertyservice.property.dto.PropertyFilterDTO,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:36:41 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.searchPropertiesByFilter(com.proveritus.propertyservice.property.dto.PropertyFilterDTO,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:36:41 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.searchProperties(..) with arguments: [com.proveritus.propertyservice.property.dto.PropertyFilterDTO@259c1cb2, Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 14:36:41 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        1=1 
    limit
        ?, ?
2025-12-01 14:36:41 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getTotalPropertiesCount() with result: 4
2025-12-01 14:36:41 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=9
2025-12-01 14:36:41 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:36:41 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:36:41 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 14:36:41 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 14:36:41 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.searchProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:36:41 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:36:41 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/count
2025-12-01 14:36:41 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/by-manager/1?page=0&size=9
2025-12-01 14:36:41 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/count
2025-12-01 14:36:41 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesCount(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:36:41 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesCount(); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:36:41 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public long com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getTotalPropertiesCount(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 14:36:41 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public long com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl.getTotalPropertiesCount(); target is of class [com.proveritus.propertyservice.property.service.Impl.PropertyServiceImpl]
2025-12-01 14:36:41 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getTotalPropertiesCount() with arguments: []
2025-12-01 14:36:41 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(p1_0.id) 
    from
        properties p1_0
2025-12-01 14:36:41 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getTotalPropertiesCount() with result: 4
2025-12-01 14:36:41 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/by-manager/1?page=0&size=9
2025-12-01 14:36:41 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesByManager(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:36:41 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertiesByManager(java.lang.Long,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:36:41 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getPropertiesByManager(..) with arguments: [1, Page request [number: 0, size 9, sort: UNSORTED]]
2025-12-01 14:36:41 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.managed_by=? 
    limit
        ?
2025-12-01 14:36:41 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getPropertiesByManager(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:36:44 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/1
2025-12-01 14:36:44 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties/1/stats
2025-12-01 14:36:44 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units/property/1/income
2025-12-01 14:36:44 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/1
2025-12-01 14:36:44 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyById(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:36:44 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyById(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:36:44 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties/1/stats
2025-12-01 14:36:44 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getPropertyById(..) with arguments: [1]
2025-12-01 14:36:44 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:36:44 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 14:36:44 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units/property/1/count
2025-12-01 14:36:44 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getPropertyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:36:44 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getPropertyStats(..) with arguments: [1]
2025-12-01 14:36:44 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        (select
            count(f1_0.id) 
        from
            floors f1_0 
        where
            f1_0.property_id=p1_0.id),
        (select
            count(u2_0.id) 
        from
            units u2_0 
        where
            u2_0.property_id=p1_0.id),
        coalesce(sum(case 
            when u1_0.occupancy_status='OCCUPIED' 
                then 1 
            else 0 
    end), 0),
    coalesce(sum(case 
        when u1_0.occupancy_status='AVAILABLE' 
            then 1 
        else 0 
end), 0),
coalesce(sum(case 
    when u1_0.occupancy_status='RESERVED' 
        then 1 
    else 0 
end), 0),
coalesce(sum(case 
    when u1_0.occupancy_status='NOT_AVAILABLE' 
        then 1 
    else 0 
end), 0),
coalesce(sum(case 
    when u1_0.occupancy_status='UNDER_MAINTENANCE' 
        then 1 
    else 0 
end), 0),
case 
    when (select
        count(u3_0.id) from
            units u3_0 
        where
            u3_0.property_id=p1_0.id)>0 
            then ((coalesce(sum(case 
                when u1_0.occupancy_status='OCCUPIED' 
                    then 1 
                else 0 
        end), 0)*100.0)/(select
            count(u4_0.id) 
        from
            units u4_0 
        where
            u4_0.property_id=p1_0.id)) 
    else 0.0 
end,
case 
    when (select
        count(u5_0.id) from
            units u5_0 
        where
            u5_0.property_id=p1_0.id)>0 
            then ((coalesce(sum(case 
                when u1_0.occupancy_status='AVAILABLE' 
                    then 1 
                else 0 
        end), 0)*100.0)/(select
            count(u6_0.id) 
        from
            units u6_0 
        where
            u6_0.property_id=p1_0.id)) 
    else 0.0 
end,
coalesce(sum(case 
    when u1_0.occupancy_status='OCCUPIED' 
        then u1_0.monthly_rent 
    else 0 
end), 0.0),
coalesce(sum(u1_0.monthly_rent), 0.0) 
from
    properties p1_0 
left join
    units u1_0 
        on u1_0.property_id=p1_0.id 
where
    p1_0.id=? 
group by
    p1_0.id
2025-12-01 14:36:44 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units/property/1/income
2025-12-01 14:36:44 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.calculateRentalIncome(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:36:44 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.calculateRentalIncome(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:36:44 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.calculatePotentialRentalIncome(..) with arguments: [1]
2025-12-01 14:36:44 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 14:36:44 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        coalesce(sum(u1_0.monthly_rent), 0) 
    from
        units u1_0 
    where
        u1_0.property_id=? 
        and u1_0.occupancy_status='OCCUPIED'
2025-12-01 14:36:44 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.calculatePotentialRentalIncome(..) with result: 245.0
2025-12-01 14:36:44 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getPropertyStats(..) with result: PropertyStatsDTO(totalFloors=4, totalUnits=2, occupiedUnits=1, vacantUnits=1, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=50.0, vacancyRate=50.0, totalRentalIncome=245.0, potentialRentalIncome=689.0)
2025-12-01 14:36:44 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units/property/1/count
2025-12-01 14:36:44 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.countUnitsByProperty(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:36:44 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.countUnitsByProperty(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:36:44 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.countUnitsByPropertyId(..) with arguments: [1]
2025-12-01 14:36:44 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getPropertyById(..) with result: com.proveritus.propertyservice.property.dto.PropertyDTO@54855942
2025-12-01 14:36:44 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 14:36:44 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(u1_0.id) 
    from
        units u1_0 
    where
        u1_0.property_id=?
2025-12-01 14:36:44 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.countUnitsByPropertyId(..) with result: 2
2025-12-01 14:36:44 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=1&page=0&size=6
2025-12-01 14:36:44 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=1&page=0&size=6
2025-12-01 14:36:44 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:44 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:44 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [1, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 14:36:44 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 14:36:44 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:36:44 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:36:44 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 14:36:44 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:36:44 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:36:44 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:36:44 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:36:44 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 14:36:44 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/2/occupancy-stats
2025-12-01 14:36:44 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/8/occupancy-stats
2025-12-01 14:36:44 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/1/occupancy-stats
2025-12-01 14:36:44 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/2/occupancy-stats
2025-12-01 14:36:44 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:44 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:44 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [2]
2025-12-01 14:36:44 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:36:44 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/5/occupancy-stats
2025-12-01 14:36:44 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:36:44 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=1, occupiedUnits=0, vacantUnits=1, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=100.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:36:44 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/8/occupancy-stats
2025-12-01 14:36:44 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:44 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:44 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [8]
2025-12-01 14:36:44 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:36:44 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:36:44 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:36:44 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/1/occupancy-stats
2025-12-01 14:36:44 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:44 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:44 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [1]
2025-12-01 14:36:44 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:36:44 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:36:44 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=1, occupiedUnits=1, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=100.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:36:44 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/5/occupancy-stats
2025-12-01 14:36:44 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:44 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:44 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [5]
2025-12-01 14:36:44 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:36:44 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:36:44 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:36:50 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=1&size=0
2025-12-01 14:36:50 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=1&size=0
2025-12-01 14:36:50 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:50 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:36:50 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [1]
2025-12-01 14:36:50 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 14:36:50 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:36:50 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:36:50 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=?
2025-12-01 14:36:50 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:36:50 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:36:50 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:36:50 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:36:50 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: [com.proveritus.propertyservice.floor.dto.FloorDTO@6f9fb2dd, com.proveritus.propertyservice.floor.dto.FloorDTO@76c9836, com.proveritus.propertyservice.floor.dto.FloorDTO@15f88429, com.proveritus.propertyservice.floor.dto.FloorDTO@75ec4c43]
2025-12-01 14:36:50 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?floorId=1&page=0&size=6
2025-12-01 14:36:50 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?floorId=1&page=0&size=6
2025-12-01 14:36:50 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:36:50 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:36:50 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, 1, null, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 14:36:50 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:36:50 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:36:50 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 14:36:50 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 14:38:44 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/2/occupancy-stats
2025-12-01 14:38:44 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/8/occupancy-stats
2025-12-01 14:38:44 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/1/occupancy-stats
2025-12-01 14:38:44 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/5/occupancy-stats
2025-12-01 14:38:44 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/2/occupancy-stats
2025-12-01 14:38:44 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/8/occupancy-stats
2025-12-01 14:38:44 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:38:44 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:38:44 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:38:44 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:38:44 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [8]
2025-12-01 14:38:44 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [2]
2025-12-01 14:38:44 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:38:44 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:38:44 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:38:44 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:38:44 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:38:44 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=1, occupiedUnits=0, vacantUnits=1, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=100.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:38:44 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=1&page=0&size=6
2025-12-01 14:38:44 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/1/occupancy-stats
2025-12-01 14:38:44 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:38:44 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:38:44 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [1]
2025-12-01 14:38:44 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:38:44 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:38:44 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=1, occupiedUnits=1, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=100.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:38:44 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/5/occupancy-stats
2025-12-01 14:38:44 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:38:44 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:38:44 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [5]
2025-12-01 14:38:44 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:38:44 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:38:44 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:38:44 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=1&page=0&size=6
2025-12-01 14:38:44 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:38:44 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:38:44 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [1, Page request [number: 0, size 6, sort: name: ASC]]
2025-12-01 14:38:44 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 14:38:44 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:38:44 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:38:44 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 14:38:44 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:38:44 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:38:44 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:38:44 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:38:44 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 14:38:52 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 14:38:52 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 14:38:52 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:38:52 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:38:52 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 14:38:52 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 14:38:52 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:38:56 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/6/occupancy-stats
2025-12-01 14:38:56 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/9/occupancy-stats
2025-12-01 14:38:56 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/10/occupancy-stats
2025-12-01 14:38:56 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/6/occupancy-stats
2025-12-01 14:38:56 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:38:56 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:38:56 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [6]
2025-12-01 14:38:56 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:38:56 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:38:56 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=5, occupiedUnits=1, vacantUnits=2, reservedUnits=1, notAvailableUnits=0, underMaintenanceUnits=1, occupancyRate=20.0, vacancyRate=40.0, reservedRate=20.0, notAvailableRate=0.0, underMaintenanceRate=20.0)
2025-12-01 14:38:56 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=2&page=0&size=9
2025-12-01 14:38:56 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/9/occupancy-stats
2025-12-01 14:38:56 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:38:56 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:38:56 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [9]
2025-12-01 14:38:56 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:38:56 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:38:56 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:38:56 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/10/occupancy-stats
2025-12-01 14:38:56 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:38:56 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:38:56 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [10]
2025-12-01 14:38:56 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:38:56 [http-nio-8082-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=2&page=0&size=9
2025-12-01 14:38:56 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:38:56 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:38:56 [http-nio-8082-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:38:56 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:38:56 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [2, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 14:38:56 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 14:38:56 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:38:56 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:38:56 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 14:38:56 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:38:56 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:38:56 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:38:56 [http-nio-8082-exec-7] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 14:39:00 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors?propertyId=1&page=0&size=9
2025-12-01 14:39:00 [http-nio-8082-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors?propertyId=1&page=0&size=9
2025-12-01 14:39:00 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:39:00 [http-nio-8082-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorsByPropertyId(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:39:00 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorsByPropertyId(..) with arguments: [1, Page request [number: 0, size 9, sort: name: ASC]]
2025-12-01 14:39:00 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    where
        p1_0.id=?
2025-12-01 14:39:00 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:39:00 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:39:00 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.property_id=? 
    order by
        f1_0.name 
    limit
        ?
2025-12-01 14:39:00 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:39:00 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:39:00 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:39:00 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:39:00 [http-nio-8082-exec-4] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorsByPropertyId(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.floor.dto.FloorDTO instances
2025-12-01 14:39:01 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/2/occupancy-stats
2025-12-01 14:39:01 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/8/occupancy-stats
2025-12-01 14:39:01 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/1/occupancy-stats
2025-12-01 14:39:01 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/5/occupancy-stats
2025-12-01 14:39:01 [http-nio-8082-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/2/occupancy-stats
2025-12-01 14:39:01 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:39:01 [http-nio-8082-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:39:01 [http-nio-8082-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/8/occupancy-stats
2025-12-01 14:39:01 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [2]
2025-12-01 14:39:01 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:39:01 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:39:01 [http-nio-8082-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:39:01 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [8]
2025-12-01 14:39:01 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:39:01 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:39:01 [http-nio-8082-exec-9] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=1, occupiedUnits=0, vacantUnits=1, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=100.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:39:01 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:39:01 [http-nio-8082-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/1/occupancy-stats
2025-12-01 14:39:01 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:39:01 [http-nio-8082-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/5/occupancy-stats
2025-12-01 14:39:01 [http-nio-8082-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:39:01 [http-nio-8082-exec-2] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:39:01 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [1]
2025-12-01 14:39:01 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:39:01 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:39:01 [http-nio-8082-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorOccupancyStats(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:39:01 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorOccupancyStats(..) with arguments: [5]
2025-12-01 14:39:01 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:39:01 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:39:01 [http-nio-8082-exec-6] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=1, occupiedUnits=1, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=100.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:39:01 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:39:01 [http-nio-8082-exec-10] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorOccupancyStats(..) with result: FloorOccupancyStats(totalUnits=0, occupiedUnits=0, vacantUnits=0, reservedUnits=0, notAvailableUnits=0, underMaintenanceUnits=0, occupancyRate=0.0, vacancyRate=0.0, reservedRate=0.0, notAvailableRate=0.0, underMaintenanceRate=0.0)
2025-12-01 14:39:04 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /floors/1
2025-12-01 14:39:04 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units?floorId=1&page=0&size=100
2025-12-01 14:39:04 [http-nio-8082-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /floors/1
2025-12-01 14:39:04 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorById(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:39:04 [http-nio-8082-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.floor.api.FloorRestController.getFloorById(java.lang.Long); target is of class [com.proveritus.propertyservice.floor.api.FloorRestController]
2025-12-01 14:39:04 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: FloorServiceImpl.getFloorById(..) with arguments: [1]
2025-12-01 14:39:04 [http-nio-8082-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units?floorId=1&page=0&size=100
2025-12-01 14:39:04 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_by,
        f1_0.created_date,
        f1_0.deleted,
        f1_0.last_modified_by,
        f1_0.last_modified_date,
        f1_0.name,
        f1_0.number_of_units,
        f1_0.occupied_units,
        f1_0.property_id,
        f1_0.vacant_units,
        f1_0.version 
    from
        floors f1_0 
    where
        f1_0.id=?
2025-12-01 14:39:04 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:39:04 [http-nio-8082-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnits(java.lang.Long,java.lang.Long,com.proveritus.cloudutility.enums.OccupancyStatus,int,int,java.lang.String,java.lang.String); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:39:04 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitsWithFilters(..) with arguments: [null, 1, null, Page request [number: 0, size 100, sort: name: ASC]]
2025-12-01 14:39:04 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.floor_id,
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.floor_id=?
2025-12-01 14:39:04 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: BaseService.getCurrentUser() with arguments: []
2025-12-01 14:39:04 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: BaseService.getCurrentUser() with result: UserDTO(id=1, username=Tinashe40, email=null, firstName=null, lastName=null, phoneNumber=null, roles=[floor:update, user:deactivate, floor:read, role:update, system:stats:read, unit:read, floor:delete, user:reset-password, maintenance_staff:read, property:delete, unit:create, permission:deactivate, property:count:read, permission:delete, user:create, user:read, role:delete, property:update, unit:delete, permission:create, user:delete, permission:assign-roles, role:read, leasing_agent:read, property:read, unit:update, user:update, permission:update, leasing_agent:update_occupancy, permission:read, role:create, floor:create, property:create, user:assign-roles], permissions=null, enabled=false, accountNonExpired=false, accountNonLocked=false, credentialsNonExpired=false)
2025-12-01 14:39:04 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        (
            ? is null 
            or u1_0.property_id=?
        ) 
        and (
            ? is null 
            or u1_0.floor_id=?
        ) 
        and (
            ? is null 
            or u1_0.occupancy_status=?
        ) 
    order by
        u1_0.name 
    limit
        ?
2025-12-01 14:39:04 [http-nio-8082-exec-8] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: FloorServiceImpl.getFloorById(..) with result: com.proveritus.propertyservice.floor.dto.FloorDTO@4cb96daa
2025-12-01 14:39:04 [http-nio-8082-exec-5] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitsWithFilters(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.unit.dto.UnitDTO instances
2025-12-01 14:39:10 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /units/2
2025-12-01 14:39:10 [http-nio-8082-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /units/2
2025-12-01 14:39:10 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnitById(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:39:10 [http-nio-8082-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.unit.api.UnitRestController.getUnitById(java.lang.Long); target is of class [com.proveritus.propertyservice.unit.api.UnitRestController]
2025-12-01 14:39:10 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: UnitServiceImpl.getUnitById(..) with arguments: [2]
2025-12-01 14:39:10 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_by,
        u1_0.created_date,
        u1_0.deleted,
        u1_0.floor_id,
        u1_0.last_modified_by,
        u1_0.last_modified_date,
        u1_0.lease_end_date,
        u1_0.lease_start_date,
        u1_0.monthly_rent,
        u1_0.name,
        u1_0.occupancy_status,
        u1_0.property_id,
        u1_0.rate_per_sqm,
        u1_0.rent_type,
        u1_0.size,
        u1_0.tenant,
        u1_0.tenant_email,
        u1_0.tenant_phone,
        u1_0.version 
    from
        units u1_0 
    where
        u1_0.id=?
2025-12-01 14:39:10 [http-nio-8082-exec-3] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: UnitServiceImpl.getUnitById(..) with result: UnitDTO(id=2, name=G01, size=null, rentType=null, ratePerSqm=null, monthlyRent=245.0, occupancyStatus=OCCUPIED, tenant=Tinashe Mutero, tenantEmail=null, tenantPhone=null, leaseStartDate=null, leaseEndDate=null, propertyId=null, floorId=null)
2025-12-01 14:39:21 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /properties?page=0&size=1000
2025-12-01 14:39:21 [http-nio-8082-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /properties?page=0&size=1000
2025-12-01 14:39:21 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:39:21 [http-nio-8082-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.proveritus.propertyservice.property.api.PropertyRestController.getProperties(com.proveritus.cloudutility.enums.PropertyType,org.springframework.data.domain.Pageable); target is of class [com.proveritus.propertyservice.property.api.PropertyRestController]
2025-12-01 14:39:21 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Entering method: PropertyServiceImpl.getAllProperties(..) with arguments: [Page request [number: 0, size 100, sort: UNSORTED]]
2025-12-01 14:39:21 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.address,
        p1_0.created_by,
        p1_0.created_date,
        p1_0.deleted,
        p1_0.last_modified_by,
        p1_0.last_modified_date,
        p1_0.managed_by,
        p1_0.name,
        p1_0.number_of_floors,
        p1_0.number_of_units,
        p1_0.property_type,
        p1_0.version 
    from
        properties p1_0 
    limit
        ?, ?
2025-12-01 14:39:21 [http-nio-8082-exec-1] INFO  c.p.cloudutility.aop.AuditAspect - Exiting method: PropertyServiceImpl.getAllProperties(..) with result: Page 1 of 1 containing com.proveritus.propertyservice.property.dto.PropertyDTO instances
2025-12-01 14:41:35 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 14:46:35 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 14:51:35 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-12-01 14:56:35 [AsyncResolver-bootstrap-executor-0] INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
